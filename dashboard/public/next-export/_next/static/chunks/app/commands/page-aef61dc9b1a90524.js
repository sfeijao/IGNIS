(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{8819:function(e,a,s){Promise.resolve().then(s.bind(s,1313))},1313:function(e,a,s){"use strict";s.d(a,{default:function(){return i}});var l=s(7437),n=s(2265),c=s(2837),t=s(7814),d=s(9988);function i(){let{t:e}=(0,t.QT)(),[a,s]=(0,n.useState)(null),[i,m]=(0,n.useState)([]),[o,r]=(0,n.useState)(!1),[u,h]=(0,n.useState)(null),[x,p]=(0,n.useState)(null),[f,N]=(0,n.useState)(""),[g,j]=(0,n.useState)(""),[b,y]=(0,n.useState)("");(0,n.useEffect)(()=>{s((0,c._)())},[]);let v=async a=>{r(!0),h(null),p(null);try{let e=await d.h.getCommands(a),s=(null==e?void 0:e.commands)||e||[];m(s)}catch(a){h((null==a?void 0:a.message)||e("commands.loadFailed"))}finally{r(!1)}};(0,n.useEffect)(()=>{a&&v(a)},[a]);let C=async s=>{if(a){r(!0),h(null),p(null);try{let e=await d.h.postCommand(a,s);p(JSON.stringify(e)),await v(a)}catch(a){h((null==a?void 0:a.message)||e("commands.actionFailed"))}finally{r(!1)}}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:e("commands.title")}),(0,l.jsx)("button",{className:"btn btn-secondary",onClick:()=>a&&v(a),title:e("common.reload"),children:e("common.reload")}),(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>C({action:"deploy"}),title:e("commands.redeploy"),children:e("commands.redeploy")}),(0,l.jsx)("button",{className:"btn btn-secondary",onClick:()=>C({action:"sync"}),title:e("commands.sync"),children:e("commands.sync")}),(0,l.jsx)("button",{className:"btn btn-danger",onClick:()=>C({action:"clear"}),title:e("commands.clear.title"),children:e("commands.clear")})]}),u&&(0,l.jsx)("div",{className:"text-red-400",children:u}),x&&(0,l.jsx)("pre",{className:"text-xs opacity-70 max-h-40 overflow-auto",children:x}),(0,l.jsxs)("section",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",children:e("commands.run.title")}),(0,l.jsxs)("div",{className:"card-body grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,l.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"text-sm opacity-80",children:e("commands.form.name")}),(0,l.jsx)("input",{className:"input",value:f,onChange:e=>N(e.target.value),placeholder:e("commands.form.name.placeholder"),title:e("commands.form.name.title")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"text-sm opacity-80",children:e("commands.form.args")}),(0,l.jsx)("input",{className:"input",value:g,onChange:e=>j(e.target.value),placeholder:e("commands.form.args.placeholder"),title:e("commands.form.args.title")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"text-sm opacity-80",children:e("commands.form.channel")}),(0,l.jsx)("input",{className:"input",value:b,onChange:e=>y(e.target.value),placeholder:e("commands.form.channel.placeholder"),title:e("commands.form.channel.title")})]}),(0,l.jsx)("div",{className:"flex items-end",children:(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>C({action:"run",name:f,args:g,channelId:b||void 0}),disabled:!f,children:e("commands.runButton")})})]})]}),(0,l.jsxs)("section",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",children:e("commands.registered")}),(0,l.jsx)("div",{className:"card-body grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:i.map(a=>(0,l.jsxs)("div",{className:"p-3 rounded-lg bg-neutral-800/50 border border-neutral-800",children:[(0,l.jsxs)("div",{className:"font-medium",children:["/",a.name]}),(0,l.jsx)("div",{className:"text-xs opacity-70",children:a.description||e("commands.noDescription")})]},a.id||a.name))})]})]})}}},function(e){e.O(0,[814,482,971,23,744],function(){return e(e.s=8819)}),_N_E=e.O()}]);