(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{8819:function(e,a,s){Promise.resolve().then(s.bind(s,1313))},1313:function(e,a,s){"use strict";s.d(a,{default:function(){return i}});var l=s(7437),n=s(2265),t=s(2837),c=s(9988);function i(){let[e,a]=(0,n.useState)(null),[s,i]=(0,n.useState)([]),[r,d]=(0,n.useState)(!1),[o,m]=(0,n.useState)(null),[u,x]=(0,n.useState)(null),[h,p]=(0,n.useState)(""),[g,N]=(0,n.useState)(""),[j,b]=(0,n.useState)("");(0,n.useEffect)(()=>{a((0,t._)())},[]);let f=async e=>{d(!0),m(null),x(null);try{let a=await c.h.getCommands(e),s=(null==a?void 0:a.commands)||a||[];i(s)}catch(e){m((null==e?void 0:e.message)||"Erro ao carregar comandos")}finally{d(!1)}};(0,n.useEffect)(()=>{e&&f(e)},[e]);let v=async a=>{if(e){d(!0),m(null),x(null);try{let s=await c.h.postCommand(e,a);x(JSON.stringify(s)),await f(e)}catch(e){m((null==e?void 0:e.message)||"Falha na a\xe7\xe3o")}finally{d(!1)}}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Comandos do Servidor"}),(0,l.jsx)("button",{className:"btn btn-secondary",onClick:()=>e&&f(e),title:"Recarregar",children:"Recarregar"}),(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>v({action:"deploy"}),title:"Re-deploy",children:"Re-deploy"}),(0,l.jsx)("button",{className:"btn btn-secondary",onClick:()=>v({action:"sync"}),title:"Sincronizar",children:"Sync"}),(0,l.jsx)("button",{className:"btn btn-danger",onClick:()=>v({action:"clear"}),title:"Limpar comandos do servidor",children:"Limpar"})]}),o&&(0,l.jsx)("div",{className:"text-red-400",children:o}),u&&(0,l.jsx)("pre",{className:"text-xs opacity-70 max-h-40 overflow-auto",children:u}),(0,l.jsxs)("section",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",children:"Executar comando"}),(0,l.jsxs)("div",{className:"card-body grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,l.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"text-sm opacity-80",children:"Nome"}),(0,l.jsx)("input",{className:"input",value:h,onChange:e=>p(e.target.value),placeholder:"ex: ping",title:"Nome do comando"})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"text-sm opacity-80",children:"Argumentos"}),(0,l.jsx)("input",{className:"input",value:g,onChange:e=>N(e.target.value),placeholder:"ex: user:@ignis",title:"Argumentos"})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"text-sm opacity-80",children:"Canal (opcional)"}),(0,l.jsx)("input",{className:"input",value:j,onChange:e=>b(e.target.value),placeholder:"ID do canal",title:"Canal"})]}),(0,l.jsx)("div",{className:"flex items-end",children:(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>v({action:"run",name:h,args:g,channelId:j||void 0}),disabled:!h,children:"Executar"})})]})]}),(0,l.jsxs)("section",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",children:"Comandos registrados"}),(0,l.jsx)("div",{className:"card-body grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.map(e=>(0,l.jsxs)("div",{className:"p-3 rounded-lg bg-neutral-800/50 border border-neutral-800",children:[(0,l.jsxs)("div",{className:"font-medium",children:["/",e.name]}),(0,l.jsx)("div",{className:"text-xs opacity-70",children:e.description||"Sem descri\xe7\xe3o"})]},e.id||e.name))})]})]})}}},function(e){e.O(0,[482,971,23,744],function(){return e(e.s=8819)}),_N_E=e.O()}]);