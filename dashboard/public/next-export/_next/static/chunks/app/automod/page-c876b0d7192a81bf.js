(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{6820:function(e,t,a){Promise.resolve().then(a.bind(a,965))},965:function(e,t,a){"use strict";a.d(t,{default:function(){return r}});var s=a(7437),n=a(2265),l=a(2837),c=a(9988),o=a(7814);function r(){let{t:e}=(0,o.QT)(),[t,a]=(0,n.useState)(null),[r,d]=(0,n.useState)([]),[i,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null);(0,n.useEffect)(()=>{a((0,l._)())},[]);let p=async e=>{u(!0),h(null);try{let t=await c.h.getAutomodEvents(e,{resolved:!1});d((null==t?void 0:t.events)||t||[])}catch(e){h((null==e?void 0:e.message)||"Erro ao carregar eventos")}finally{u(!1)}};(0,n.useEffect)(()=>{t&&p(t)},[t]);let v=async(e,a)=>{if(t){u(!0);try{await c.h.reviewAutomodEvent(t,e,"approve"===a?"confirm":"release"),await p(t)}finally{u(!1)}}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:e("automod.title")}),(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>t&&p(t),title:e("common.reload"),children:e("common.reload")})]}),m&&(0,s.jsx)("div",{className:"text-red-400",children:m}),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:e("automod.queue")}),(0,s.jsxs)("div",{className:"card-body grid gap-3",children:[0===r.length&&(0,s.jsx)("div",{className:"opacity-70",children:e("automod.empty")}),r.map(t=>(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-neutral-800/50 border border-neutral-800",children:[(0,s.jsxs)("div",{className:"text-sm opacity-70",children:[t.type," • ",t.userId," • ",new Date(t.createdAt||Date.now()).toLocaleString()]}),(0,s.jsx)("div",{className:"mt-1",children:t.content||e("automod.content.empty")}),(0,s.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-primary btn-xs",onClick:()=>v(t.id,"approve"),children:e("automod.approve")}),(0,s.jsx)("button",{type:"button",className:"btn btn-danger btn-xs",onClick:()=>v(t.id,"reject"),children:e("automod.reject")})]})]},t.id))]})]})]})}}},function(e){e.O(0,[814,482,971,23,744],function(){return e(e.s=6820)}),_N_E=e.O()}]);