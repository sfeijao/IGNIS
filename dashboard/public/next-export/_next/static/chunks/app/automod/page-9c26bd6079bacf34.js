(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{6820:function(e,t,s){Promise.resolve().then(s.bind(s,965))},965:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var a=s(7437),n=s(2265),r=s(2837),l=s(9988);function c(){let[e,t]=(0,n.useState)(null),[s,c]=(0,n.useState)([]),[i,d]=(0,n.useState)(!1),[o,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{t((0,r._)())},[]);let m=async e=>{d(!0),u(null);try{let t=await l.h.getAutomodEvents(e,{resolved:!1});c((null==t?void 0:t.events)||t||[])}catch(e){u((null==e?void 0:e.message)||"Erro ao carregar eventos")}finally{d(!1)}};(0,n.useEffect)(()=>{e&&m(e)},[e]);let h=async(t,s)=>{if(e){d(!0);try{await l.h.reviewAutomodEvent(e,t,"approve"===s?"confirm":"release"),await m(e)}finally{d(!1)}}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Eventos de Automod (pendentes)"}),(0,a.jsx)("button",{className:"btn btn-secondary",onClick:()=>e&&m(e),title:"Recarregar",children:"Recarregar"})]}),o&&(0,a.jsx)("div",{className:"text-red-400",children:o}),(0,a.jsxs)("section",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:"Fila"}),(0,a.jsxs)("div",{className:"card-body grid gap-3",children:[0===s.length&&(0,a.jsx)("div",{className:"opacity-70",children:"Sem eventos"}),s.map(e=>(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-neutral-800/50 border border-neutral-800",children:[(0,a.jsxs)("div",{className:"text-sm opacity-70",children:[e.type," • ",e.userId," • ",new Date(e.createdAt||Date.now()).toLocaleString()]}),(0,a.jsx)("div",{className:"mt-1",children:e.content||"(sem conte\xfado)"}),(0,a.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,a.jsx)("button",{className:"btn btn-primary btn-xs",onClick:()=>h(e.id,"approve"),children:"Aprovar"}),(0,a.jsx)("button",{className:"btn btn-danger btn-xs",onClick:()=>h(e.id,"reject"),children:"Rejeitar"})]})]},e.id))]})]})]})}}},function(e){e.O(0,[482,971,23,744],function(){return e(e.s=6820)}),_N_E=e.O()}]);