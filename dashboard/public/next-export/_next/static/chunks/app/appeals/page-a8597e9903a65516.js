(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146],{3871:function(e,a,s){Promise.resolve().then(s.bind(s,4271))},4271:function(e,a,s){"use strict";s.d(a,{default:function(){return i}});var t=s(7437),l=s(2265),n=s(2837),c=s(9988);function i(){let[e,a]=(0,l.useState)(null),[s,i]=(0,l.useState)([]),[r,d]=(0,l.useState)(!1),[o,u]=(0,l.useState)(null),[p,m]=(0,l.useState)({});(0,l.useEffect)(()=>{a((0,n._)())},[]);let h=async e=>{d(!0),u(null);try{let a=await c.h.getAppeals(e,{status:"pending"});i((null==a?void 0:a.appeals)||a||[])}catch(e){u((null==e?void 0:e.message)||"Erro ao carregar apelos")}finally{d(!1)}};(0,l.useEffect)(()=>{e&&h(e)},[e]);let x=async(a,s)=>{if(e){d(!0);try{await c.h.decideAppeal(e,a,"approve"===s?"accepted":"rejected",p[a]),await h(e)}finally{d(!1)}}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Apelos (pendentes)"}),(0,t.jsx)("button",{className:"btn btn-secondary",onClick:()=>e&&h(e),title:"Recarregar",children:"Recarregar"})]}),o&&(0,t.jsx)("div",{className:"text-red-400",children:o}),(0,t.jsxs)("section",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:"Fila"}),(0,t.jsxs)("div",{className:"card-body grid gap-3",children:[0===s.length&&(0,t.jsx)("div",{className:"opacity-70",children:"Sem apelos"}),s.map(e=>(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-neutral-800/50 border border-neutral-800",children:[(0,t.jsxs)("div",{className:"text-sm opacity-70",children:[e.userId," • Caso ",e.caseId," • ",new Date(e.createdAt||Date.now()).toLocaleString()]}),(0,t.jsxs)("div",{className:"mt-1",children:["Motivo: ",e.reason||"(sem motivo)"]}),(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-2 items-end",children:[(0,t.jsxs)("label",{className:"flex flex-col gap-1 md:col-span-2",children:[(0,t.jsx)("span",{className:"text-sm opacity-80",children:"Justificativa da decis\xe3o"}),(0,t.jsx)("input",{className:"input",value:p[e.id]||"",onChange:a=>m(s=>({...s,[e.id]:a.target.value})),placeholder:"Opcional",title:"Justificativa"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"btn btn-primary btn-xs",onClick:()=>x(e.id,"approve"),children:"Aprovar"}),(0,t.jsx)("button",{className:"btn btn-danger btn-xs",onClick:()=>x(e.id,"deny"),children:"Negar"})]})]})]},e.id))]})]})]})}}},function(e){e.O(0,[482,971,23,744],function(){return e(e.s=3871)}),_N_E=e.O()}]);