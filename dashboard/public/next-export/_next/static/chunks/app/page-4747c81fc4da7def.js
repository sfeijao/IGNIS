(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1387:function(e,t,s){Promise.resolve().then(s.bind(s,1262)),Promise.resolve().then(s.t.bind(s,231,23))},1262:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var l=s(7437),r=s(2265),a=s(2695);function o(e){let{label:t,value:s,dotColor:r,subtle:a}=e;return(0,l.jsxs)("div",{className:"card card-gradient p-5 relative",children:[a&&(0,l.jsx)("span",{className:"absolute top-2 right-2 text-[10px] px-2 py-0.5 rounded-full bg-neutral-800 border border-neutral-700 text-neutral-300",children:a}),(0,l.jsxs)("div",{className:"badge mb-2",children:[(0,l.jsx)("span",{className:"dot",style:{backgroundColor:r}}),t]}),(0,l.jsx)("div",{className:"text-2xl font-semibold",children:s})]})}var i=s(9988),n=s(2837);function d(){let[e,t]=(0,r.useState)([{label:"Ativos",value:"—",color:"#10b981"},{label:"Warnings",value:"—",color:"#f59e0b"},{label:"Bans",value:"—",color:"#ef4444"},{label:"Kicks",value:"—",color:"#f97316"},{label:"Tickets",value:"—",color:"#6366f1"},{label:"Mod logs",value:"—",color:"#22d3ee"}]),[s,d]=(0,r.useState)("—"),[c,h]=(0,r.useState)(!1),[u,x]=(0,r.useState)("—"),[v,p]=(0,r.useState)("Dados ser\xe3o carregados ao selecionar um servidor."),[w,k]=(0,r.useState)(!1),m=(0,r.useRef)(null),[g,j]=(0,r.useState)(1),[f,b]=(0,r.useState)("—"),N=e=>e?e.toLocaleString():"—",W=e=>{var t,s,l,r;for(let a of[null==e?void 0:e.lastActivity,null==e?void 0:e.lastEventAt,null==e?void 0:e.lastLogAt,null==e?void 0:null===(t=e.latest)||void 0===t?void 0:t.timestamp,null==e?void 0:null===(s=e.latest)||void 0===s?void 0:s.at,Array.isArray(null==e?void 0:e.recent)?null===(l=e.recent[0])||void 0===l?void 0:l.timestamp:null,null==e?void 0:null===(r=e.updates)||void 0===r?void 0:r.last].filter(Boolean)){let e=new Date(a);if(!isNaN(e.getTime()))return e}return null},M=e=>{var t,s,l,r,a,o,i;for(let n of[null==e?void 0:null===(t=e.tickets)||void 0===t?void 0:t.lastUpdated,null==e?void 0:null===(s=e.tickets)||void 0===s?void 0:s.last_activity,null==e?void 0:null===(r=e.tickets)||void 0===r?void 0:null===(l=r.latest)||void 0===l?void 0:l.timestamp,null==e?void 0:e.lastTicketAt,null==e?void 0:null===(a=e.latestTicket)||void 0===a?void 0:a.timestamp,Array.isArray(null==e?void 0:null===(o=e.tickets)||void 0===o?void 0:o.recent)?null===(i=e.tickets.recent[0])||void 0===i?void 0:i.timestamp:null].filter(Boolean)){let e=new Date(n);if(!isNaN(e.getTime()))return e}return null},L=async()=>{let e=(0,n._)();if(e){k(!0);try{var s,l,r,a,o,c,u,v,w,m,g,j,f,L,y,B,S,A,z,C;let n=await i.h.getLogStats(e);if(!n)return;let k=[{label:"Ativos",value:String(null!==(g=null===(s=n.totals)||void 0===s?void 0:s.activeModerators)&&void 0!==g?g:"—"),color:"#10b981"},{label:"Warnings",value:String(null!==(j=null===(l=n.totals)||void 0===l?void 0:l.warnings)&&void 0!==j?j:"—"),color:"#f59e0b"},{label:"Bans",value:String(null!==(f=null===(r=n.totals)||void 0===r?void 0:r.bans)&&void 0!==f?f:"—"),color:"#ef4444"},{label:"Kicks",value:String(null!==(L=null===(a=n.totals)||void 0===a?void 0:a.kicks)&&void 0!==L?L:"—"),color:"#f97316"},{label:"Tickets",value:String(null!==(y=null===(o=n.totals)||void 0===o?void 0:o.tickets)&&void 0!==y?y:"—"),color:"#6366f1"},{label:"Mod logs",value:String(null!==(B=null===(c=n.totals)||void 0===c?void 0:c.logs)&&void 0!==B?B:"—"),color:"#22d3ee"}];t(k);let _=n.updatedAt?new Date(n.updatedAt):new Date;d(_.toLocaleString()),h(Date.now()-_.getTime()<9e4);let D=null!==(S=null===(u=n.totals)||void 0===u?void 0:u.warnings)&&void 0!==S?S:0,F=null!==(A=null===(v=n.totals)||void 0===v?void 0:v.bans)&&void 0!==A?A:0,H=null!==(z=null===(w=n.totals)||void 0===w?void 0:w.kicks)&&void 0!==z?z:0,T=null!==(C=null===(m=n.totals)||void 0===m?void 0:m.tickets)&&void 0!==C?C:0;p("Resumo r\xe1pido: ".concat(D," warnings, ").concat(F," bans, ").concat(H," kicks, ").concat(T," tickets."));let E=W(n);x(N(E));let V=M(n);b(N(V))}catch(e){}finally{k(!1)}}};return(0,r.useEffect)(()=>{try{let e=localStorage.getItem("dash-refresh-mins"),t=new URLSearchParams(window.location.search),s=g,l=null==t?void 0:t.get("refresh");l?s=(e=>{let t=e.trim().toLowerCase();if("off"===t||"0"===t)return 0;if(t.endsWith("s"))return Math.max(0,parseFloat(t.slice(0,-1))/60);if(t.endsWith("m"))return Math.max(0,parseFloat(t.slice(0,-1)));let s=parseFloat(t);return isNaN(s)?1:Math.max(0,s)})(l):e&&(s=Math.max(0,parseFloat(e))),j(s)}catch(e){}L()},[]),(0,r.useEffect)(()=>{m.current&&(clearInterval(m.current),m.current=null),g>0&&(m.current=setInterval(L,6e4*g));try{localStorage.setItem("dash-refresh-mins",String(g))}catch(e){}return()=>{m.current&&clearInterval(m.current)}},[g]),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"card p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-semibold text-neutral-200",children:"Status & Resumo"}),(0,l.jsx)("p",{className:"text-xs text-neutral-400 mt-1",children:v}),(0,l.jsxs)("p",{className:"text-xs text-neutral-400 mt-1",children:["\xdaltima atividade: ",u]}),(0,l.jsxs)("p",{className:"text-xs text-neutral-400 mt-1",children:["\xdaltimo ticket: ",f]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,l.jsxs)("div",{className:"text-xs text-neutral-400 flex items-center gap-2",children:[w&&(0,l.jsx)("span",{className:"inline-block h-3 w-3 rounded-full border-2 border-neutral-500 border-t-transparent animate-spin","aria-label":"Atualizando"}),(0,l.jsxs)("span",{children:[w?"Atualizando…":"Atualizado",": ",s]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("label",{className:"text-xs text-neutral-400 hidden sm:flex items-center gap-1",title:"Frequ\xeancia de atualiza\xe7\xe3o",children:[(0,l.jsx)(a.J,{name:"clock",className:"h-4 w-4"}),(0,l.jsxs)("select",{className:"text-xs rounded-md bg-neutral-900 border border-neutral-700 px-2 py-1",value:g,onChange:e=>j(parseFloat(e.target.value)),"aria-label":"Frequ\xeancia de atualiza\xe7\xe3o",children:[(0,l.jsx)("option",{value:0,children:"Off"}),(0,l.jsx)("option",{value:.1667,children:"10s"}),(0,l.jsx)("option",{value:.5,children:"30s"}),(0,l.jsx)("option",{value:1,children:"1m"}),(0,l.jsx)("option",{value:2,children:"2m"}),(0,l.jsx)("option",{value:5,children:"5m"})]})]}),(0,l.jsxs)("button",{className:"inline-flex items-center gap-1 px-2.5 py-1.5 rounded-md border border-neutral-700 bg-neutral-800 hover:bg-neutral-700 text-xs",onClick:()=>L(),disabled:w,title:"Atualizar agora",children:[(0,l.jsx)(a.J,{name:"refresh",className:"h-4 w-4"}),"Atualizar"]})]})]})]})}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-3",children:e.map(e=>(0,l.jsx)(o,{label:e.label,value:e.value,dotColor:e.color,subtle:c?"recente":void 0},e.label))})]})}},2695:function(e,t,s){"use strict";s.d(t,{J:function(){return r}});var l=s(7437);function r(e){let{name:t,className:s="h-5 w-5",stroke:r="currentColor"}=e;switch(t){case"dashboard":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,stroke:r,children:[(0,l.jsx)("rect",{x:"3",y:"10",width:"4",height:"10",rx:"1.5",strokeWidth:"1.6"}),(0,l.jsx)("rect",{x:"10",y:"4",width:"4",height:"16",rx:"1.5",strokeWidth:"1.6"}),(0,l.jsx)("rect",{x:"17",y:"13",width:"4",height:"7",rx:"1.5",strokeWidth:"1.6"})]});case"plugins":return(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M9 3h3a2 2 0 0 1 2 2v1h1a2 2 0 1 1 0 4h-1v2a2 2 0 0 1-2 2H9v1a2 2 0 1 1-4 0v-1H4a2 2 0 1 1 0-4h1V8a5 5 0 0 1 4-5Z",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})});case"settings":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M12 8.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M3 12h2.2M18.8 12H21M6.2 6.2l1.6 1.1M16.2 16.7l1.6 1.1M6.2 17.8l1.6-1.1M16.2 7.3l1.6-1.1",strokeWidth:"1.6",strokeLinecap:"round"})]});case"tickets":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M4 8a2 2 0 0 1 2-2h10l4 4v6a2 2 0 0 1-2 2H8l-4-4V8Z",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M15 6v12",strokeWidth:"1.6",strokeDasharray:"2 2"})]});case"shield":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M12 3 5 6v6a9 9 0 0 0 7 8 9 9 0 0 0 7-8V6l-7-3Z",strokeWidth:"1.6",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M9.5 12.5 11 14l3.5-3.5",strokeWidth:"1.6",strokeLinecap:"round"})]});case"tag":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M3 12V6a2 2 0 0 1 2-2h6l10 10-6 6L3 12Z",strokeWidth:"1.6",strokeLinejoin:"round"}),(0,l.jsx)("circle",{cx:"8",cy:"8",r:"1.2",fill:r})]});case"info":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"9",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M12 10v6",strokeWidth:"1.6",strokeLinecap:"round"}),(0,l.jsx)("circle",{cx:"12",cy:"7",r:"1.2",fill:r})]});case"refresh":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M20 12a8 8 0 1 1-2.34-5.66",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M20 4v5h-5",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]});case"clock":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"9",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M12 7v6l4 2",strokeWidth:"1.6",strokeLinecap:"round"})]});case"logs":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M7 8h10M7 12h10M7 16h6",strokeWidth:"1.6",strokeLinecap:"round"})]});case"live":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"3",fill:r}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"6",strokeWidth:"1.6",opacity:"0.6"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"9",strokeWidth:"1.6",opacity:"0.3"})]});case"members":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"9",cy:"8",r:"3",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M4 19a5 5 0 0 1 10 0",strokeWidth:"1.6",strokeLinecap:"round"}),(0,l.jsx)("circle",{cx:"17",cy:"10",r:"2",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M16 19a4 4 0 0 1 4-4",strokeWidth:"1.6",strokeLinecap:"round"})]});case"roles":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M5 5h9v9H5z",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M10 10h9v9h-9z",strokeWidth:"1.6"})]});case"webhooks":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M9 6a3 3 0 1 0 3 3",strokeWidth:"1.6",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M12 9a3 3 0 1 0 3 3",strokeWidth:"1.6",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M15 12a3 3 0 1 0 3 3",strokeWidth:"1.6",strokeLinecap:"round"})]});case"verification":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M12 3l7 4v6a9 9 0 0 1-7 8 9 9 0 0 1-7-8V7l7-4z",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M9.5 12.5L11 14l3.5-3.5",strokeWidth:"1.6",strokeLinecap:"round"})]});case"metrics":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M4 20V4",strokeWidth:"1.6",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M20 20H4",strokeWidth:"1.6",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M7 14l3-3 3 2 4-5",strokeWidth:"1.6",strokeLinecap:"round"})]});case"commands":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M8 9l-4 3 4 3",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M12 17h8",strokeWidth:"1.6",strokeLinecap:"round"})]});case"automod":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("rect",{x:"4",y:"4",width:"16",height:"12",rx:"2",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M8 20h8",strokeWidth:"1.6",strokeLinecap:"round"})]});case"appeals":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M4 6h16v12H4z",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M8 10h8M8 14h5",strokeWidth:"1.6",strokeLinecap:"round"})]});case"performance":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"9",strokeWidth:"1.6"}),(0,l.jsx)("path",{d:"M12 12l5-3",strokeWidth:"1.6",strokeLinecap:"round"})]});case"diagnostics":return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:s,stroke:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M4 12h4l2-4 4 8h6",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("circle",{cx:"6",cy:"18",r:"1.5",fill:r}),(0,l.jsx)("circle",{cx:"18",cy:"18",r:"1.5",fill:r})]})}}s(2265)}},function(e){e.O(0,[231,482,971,23,744],function(){return e(e.s=1387)}),_N_E=e.O()}]);