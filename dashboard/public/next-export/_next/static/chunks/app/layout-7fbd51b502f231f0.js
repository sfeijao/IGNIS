(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9327:function(e,t,r){Promise.resolve().then(r.t.bind(r,8877,23)),Promise.resolve().then(r.bind(r,4571)),Promise.resolve().then(r.bind(r,3116)),Promise.resolve().then(r.bind(r,8100))},4571:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var s=r(7437),l=r(2265),a=r(7138),n=r(2837);function i(){var e;let[t,r]=(0,l.useState)(null),[i,o]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),[u,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{r((0,n._)())},[]),(0,l.useEffect)(()=>{let e=!1;if(!t){o(null),d(!0);return}return(async()=>{try{let r=await fetch("/api/guild/".concat(t,"/info"),{credentials:"include"});if(!r.ok){d(!0);return}let s=await r.json();!e&&s&&s.success&&(o(s.guild),d(!0))}catch(t){e||d(!0)}})(),()=>{e=!0}},[t]),(0,l.useEffect)(()=>{let e,r=!1,s=async()=>{if(!t){h(null);return}try{let e=await fetch("/api/guild/".concat(t,"/stats"),{credentials:"include"});if(!e.ok)return;let s=await e.json();!r&&s&&s.success&&s.stats&&h({onlineCount:s.stats.onlineCount,channelCount:s.stats.channelCount,roleCount:s.stats.roleCount})}catch(e){}};return s(),e=setInterval(s,2e4),()=>{r=!0,e&&clearInterval(e)}},[t]);let m=(0,l.useMemo)(()=>(null==i?void 0:i.bannerUrl)||(null==i?void 0:i.splashUrl)?i.bannerUrl||i.splashUrl:null,[i]);return t&&c&&i?(0,s.jsxs)("section",{className:"relative overflow-hidden border-b border-neutral-800",children:[(0,s.jsx)("div",{className:"relative h-40 sm:h-48 md:h-56 w-full bg-neutral-900",children:m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:m,alt:"Guild banner",className:"absolute inset-0 w-full h-full object-cover select-none pointer-events-none"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-black/80"})]})}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-end",children:(0,s.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-3 flex w-full flex-col gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[i.iconUrl?(0,s.jsx)("img",{src:i.iconUrl,alt:i.name,className:"h-12 w-12 sm:h-14 sm:w-14 rounded-lg border border-neutral-700 object-cover bg-neutral-800"}):(0,s.jsx)("div",{className:"h-12 w-12 sm:h-14 sm:w-14 rounded-lg border border-neutral-700 bg-neutral-800 flex items-center justify-center text-lg font-bold",children:(null===(e=i.name)||void 0===e?void 0:e[0])||"G"}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold truncate",children:i.name||t}),(0,s.jsxs)("div",{className:"text-xs text-neutral-400 flex items-center gap-3",children:[null!=i.memberCount&&(0,s.jsxs)("span",{children:[i.memberCount," membros"]}),(null==u?void 0:u.onlineCount)!=null&&(0,s.jsxs)("span",{children:["• ",u.onlineCount," online"]}),(null==u?void 0:u.channelCount)!=null&&(0,s.jsxs)("span",{children:["• ",u.channelCount," canais"]}),(null==u?void 0:u.roleCount)!=null&&(0,s.jsxs)("span",{children:["• ",u.roleCount," cargos"]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.default,{href:"/",className:"px-3 py-1.5 rounded-lg bg-neutral-900/80 border border-neutral-700 hover:bg-neutral-800 text-sm",children:"Vis\xe3o geral"}),(0,s.jsx)(a.default,{href:"/plugins",className:"px-3 py-1.5 rounded-lg bg-neutral-900/80 border border-neutral-700 hover:bg-neutral-800 text-sm",children:"Plugins"}),(0,s.jsx)(a.default,{href:"/tickets",className:"px-3 py-1.5 rounded-lg bg-neutral-900/80 border border-neutral-700 hover:bg-neutral-800 text-sm",children:"Tickets"})]})]})})]}):null}},3116:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var s=r(7437),l=r(7138),a=r(6463),n=r(2695);let i=[{href:"/",label:"Dashboard"},{href:"/plugins",label:"Plugins"},{href:"/logs",label:"Logs"},{href:"/logs/live",label:"Logs ao vivo"},{href:"/moderation",label:"Modera\xe7\xe3o"},{href:"/members",label:"Membros"},{href:"/roles",label:"Cargos"},{href:"/webhooks",label:"Webhooks"},{href:"/verification",label:"Verifica\xe7\xe3o"},{href:"/verification/metrics",label:"Verifica\xe7\xe3o: m\xe9tricas"},{href:"/tags",label:"Tags"},{href:"/tickets",label:"Tickets"},{href:"/tickets/config",label:"Tickets: config"},{href:"/tickets/panels",label:"Tickets: pain\xe9is"},{href:"/commands",label:"Comandos"},{href:"/automod",label:"Automod"},{href:"/appeals",label:"Apelos"},{href:"/settings",label:"Settings"},{href:"/diagnostics",label:"Diagn\xf3sticos"},{href:"/performance",label:"Performance"}];function o(){let e=(0,a.usePathname)(),t=e=>{switch(e){case"Dashboard":return(0,s.jsx)(n.J,{name:"dashboard"});case"Plugins":return(0,s.jsx)(n.J,{name:"plugins"});case"Settings":return(0,s.jsx)(n.J,{name:"settings"});case"Tickets":return(0,s.jsx)(n.J,{name:"tickets"});default:return(0,s.jsx)(n.J,{name:"info"})}};return(0,s.jsxs)("aside",{className:"hidden md:flex w-64 sidebar flex-col border-r border-neutral-800 bg-neutral-900/40 p-4 gap-2",children:[(0,s.jsxs)("div",{className:"text-lg font-bold mb-2",children:[(0,s.jsx)("span",{className:"icon",children:"\uD83D\uDD25"}),(0,s.jsx)("span",{className:"label ml-2",children:"IGNIS"})]}),(0,s.jsxs)("nav",{className:"flex flex-col gap-1",children:[i.map(r=>{let a=e===r.href;return(0,s.jsxs)(l.default,{href:r.href,className:"relative rounded-lg px-3 py-2 hover:bg-neutral-800/80 transition-colors ".concat(a?"bg-neutral-800 text-white animate-glow":""),children:[(0,s.jsx)("span",{className:"absolute left-0 top-1 bottom-1 w-1 rounded-full bg-gradient-to-b from-brand-500 to-blue-500 ".concat(a?"opacity-100 animate-pulseLine":"opacity-0")}),(0,s.jsx)("span",{className:"icon mr-2 inline-flex items-center",children:t(r.label)}),(0,s.jsx)("span",{className:"label",children:r.label})]},r.href)}),(0,s.jsxs)("a",{href:"/moderation-react.html",className:"relative rounded-lg px-3 py-2 hover:bg-neutral-800/80 transition-colors",target:"_self",children:[(0,s.jsx)("span",{className:"icon mr-2 inline-flex items-center",children:(0,s.jsx)(n.J,{name:"shield"})}),(0,s.jsx)("span",{className:"label",children:"Moderation Center"})]})]})]})}},8100:function(e,t,r){"use strict";r.d(t,{default:function(){return x}});var s=r(7437),l=r(7138),a=r(2265);function n(){let[e,t]=(0,a.useState)(()=>localStorage.getItem("theme")||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return(0,a.useEffect)(()=>{let t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark"),localStorage.setItem("theme",e)},[e]),(0,s.jsx)("button",{className:"rounded-xl border border-neutral-700 bg-neutral-800 px-3 py-2 text-sm hover:bg-neutral-700",onClick:()=>t(e=>"dark"===e?"light":"dark"),"aria-label":"Toggle theme",children:"dark"===e?"\uD83C\uDF19":"☀️"})}var i=r(6463),o=r(2695);let c=[{href:"/",label:"Dashboard"},{href:"/plugins",label:"Plugins"},{href:"/settings",label:"Settings"},{href:"/tickets",label:"Tickets"}];function d(){let[e,t]=(0,a.useState)(!1),r=(0,i.usePathname)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"md:hidden rounded-xl border border-neutral-700 bg-neutral-800 px-3 py-2 text-sm hover:bg-neutral-700",onClick:()=>t(!0),"aria-label":"Open menu",children:"☰"}),e&&(0,s.jsxs)("div",{className:"fixed inset-0 z-40 md:hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60",onClick:()=>t(!1)}),(0,s.jsxs)("aside",{className:"absolute left-0 top-0 h-full w-72 bg-neutral-900 border-r border-neutral-800 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"font-bold",children:"IGNIS"}),(0,s.jsx)("button",{className:"rounded-lg border border-neutral-700 px-2 py-1 text-sm hover:bg-neutral-800",onClick:()=>t(!1),"aria-label":"Close menu",children:"✕"})]}),(0,s.jsxs)("nav",{className:"flex flex-col gap-1",children:[c.map(e=>{let a=r===e.href;return(0,s.jsxs)(l.default,{href:e.href,className:"relative rounded-lg px-3 py-2 hover:bg-neutral-800 transition-colors ".concat(a?"bg-neutral-800 text-white":""),onClick:()=>t(!1),children:[(0,s.jsx)("span",{className:"absolute left-0 top-1 bottom-1 w-1 rounded-full bg-gradient-to-b from-brand-500 to-blue-500 ".concat(a?"opacity-100 animate-pulseLine":"opacity-0")}),(0,s.jsxs)("span",{className:"mr-2 inline-flex items-center",children:["Dashboard"===e.label&&(0,s.jsx)(o.J,{name:"dashboard"}),"Plugins"===e.label&&(0,s.jsx)(o.J,{name:"plugins"}),"Settings"===e.label&&(0,s.jsx)(o.J,{name:"settings"}),"Tickets"===e.label&&(0,s.jsx)(o.J,{name:"tickets"})]}),e.label]},e.href)}),(0,s.jsxs)("a",{href:"/moderation-react.html",className:"relative rounded-lg px-3 py-2 hover:bg-neutral-800 transition-colors",onClick:()=>t(!1),children:[(0,s.jsx)("span",{className:"mr-2 inline-flex items-center",children:(0,s.jsx)(o.J,{name:"shield"})}),"Moderation Center"]})]})]})]})]})}var u=r(2837);function h(){let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[d,h]=(0,a.useState)(""),[m,x]=(0,a.useState)(null),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{x((0,u._)())},[]),(0,a.useEffect)(()=>{if(!e||o.length)return;let t=!1;return l(!0),i(null),(async()=>{try{let e=await fetch("/api/guilds",{credentials:"include"});if(!e.ok)throw Error("Failed ".concat(e.status));let r=await e.json();t||c(Array.isArray(null==r?void 0:r.guilds)?r.guilds:[])}catch(e){t||i((null==e?void 0:e.message)||"Falha ao carregar guilds")}finally{t||l(!1)}})(),()=>{t=!0}},[e,o.length]),(0,a.useEffect)(()=>{let r=e=>{f.current&&!f.current.contains(e.target)&&t(!1)};return e&&document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[e]);let b=(0,a.useMemo)(()=>{let e=d.trim().toLowerCase();return e?o.filter(t=>{var r;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(e))||t.id.includes(e)}):o},[o,d]),g=e=>{(0,u.J)(e.id,!0),x(e.id),t(!1)};return(0,s.jsxs)("div",{className:"relative",ref:f,children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 rounded-xl border border-neutral-700 bg-neutral-900 hover:bg-neutral-800 px-3 py-1.5 text-sm min-w-[200px]",onClick:()=>t(e=>!e),title:m?"Servidor: ".concat(m):"Selecionar servidor",children:[(0,s.jsx)("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded bg-neutral-800 border border-neutral-700",children:(0,s.jsx)("span",{className:"text-[10px]",children:"G"})}),(0,s.jsx)("span",{className:"truncate text-left",children:m?"Guild: ".concat(m):"Selecionar servidor"}),(0,s.jsx)("span",{className:"ml-auto opacity-60",children:"▾"})]}),e&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-[360px] rounded-xl border border-neutral-800 bg-neutral-950 shadow-2xl z-20",children:[(0,s.jsx)("div",{className:"p-2 border-b border-neutral-800",children:(0,s.jsx)("input",{className:"w-full bg-neutral-900 border border-neutral-800 rounded px-2 py-1 text-sm",placeholder:"Procurar servidor…",value:d,onChange:e=>h(e.target.value),autoFocus:!0})}),(0,s.jsxs)("div",{className:"max-h-80 overflow-auto",children:[r&&(0,s.jsx)("div",{className:"p-3 text-sm text-neutral-400",children:"Carregando…"}),n&&(0,s.jsx)("div",{className:"p-3 text-sm text-red-400",children:n}),!r&&!n&&0===b.length&&(0,s.jsx)("div",{className:"p-3 text-sm text-neutral-400",children:"Nenhum servidor"}),b.map(e=>(0,s.jsxs)("button",{className:"w-full text-left px-3 py-2 flex items-center gap-3 hover:bg-neutral-900 ".concat(m===e.id?"bg-neutral-900":""),onClick:()=>g(e),children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded bg-neutral-800 border border-neutral-700 flex items-center justify-center text-xs font-semibold",children:e.name?e.name[0].toUpperCase():"G"}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("div",{className:"truncate text-neutral-200 text-sm",children:e.name||e.id}),(0,s.jsxs)("div",{className:"text-[11px] text-neutral-400",children:[e.id,e.memberCount?" • ".concat(e.memberCount," membros"):""]})]})]},e.id))]}),(0,s.jsxs)("div",{className:"p-2 border-t border-neutral-800 flex items-center gap-2",children:[(0,s.jsx)("button",{className:"px-2.5 py-1 rounded bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 text-xs",onClick:()=>{(0,u.J)("",!0),x(null)},children:"Limpar"}),m&&(0,s.jsxs)("span",{className:"text-xs text-neutral-500 truncate",children:["Atual: ",m]})]})]})]})}function m(){let[e,t]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e=!1;return(async()=>{try{let r=await fetch("/api/user",{credentials:"include"});if(!r.ok)return;let s=await r.json();!e&&s&&s.success&&s.user&&t(s.user)}catch(e){}})(),()=>{e=!0}},[]),e)?(0,s.jsx)("img",{src:e.avatar||void 0,alt:e.username,title:"".concat(e.username,"#").concat(e.discriminator),className:"h-9 w-9 rounded-full border border-neutral-700 object-cover",referrerPolicy:"no-referrer"}):(0,s.jsx)("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-brand-500 to-blue-500 flex items-center justify-center text-xs font-bold border border-neutral-700",title:"Perfil",children:"IG"})}function x(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t("1"===localStorage.getItem("sidebar-compact")||document.body.classList.contains("sidebar-compact"))},[]),(0,s.jsx)("header",{className:"sticky top-0 z-10 border-b border-neutral-800 bg-neutral-950/70 backdrop-blur",children:(0,s.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(d,{}),(0,s.jsx)("button",{onClick:()=>{let r=!e;t(r),document.body.classList.toggle("sidebar-compact",r),localStorage.setItem("sidebar-compact",r?"1":"0")},className:"rounded-xl border border-neutral-700 bg-neutral-800 px-3 py-2 text-sm hover:bg-neutral-700",title:"Alternar modo compacto",children:e?"⇤":"⇥"}),(0,s.jsx)(l.default,{href:"/",className:"font-bold",children:"Dashboard"}),(0,s.jsx)("a",{href:"/moderation-react.html",className:"text-sm text-neutral-300 hover:text-white",children:"Moderation Center"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(h,{}),(0,s.jsx)(n,{}),(0,s.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:(0,s.jsx)(m,{})})]})]})})}},2695:function(e,t,r){"use strict";r.d(t,{J:function(){return l}});var s=r(7437);function l(e){let{name:t,className:r="h-5 w-5",stroke:l="currentColor"}=e;switch(t){case"dashboard":return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,stroke:l,children:[(0,s.jsx)("rect",{x:"3",y:"10",width:"4",height:"10",rx:"1.5",strokeWidth:"1.6"}),(0,s.jsx)("rect",{x:"10",y:"4",width:"4",height:"16",rx:"1.5",strokeWidth:"1.6"}),(0,s.jsx)("rect",{x:"17",y:"13",width:"4",height:"7",rx:"1.5",strokeWidth:"1.6"})]});case"plugins":return(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:r,stroke:l,xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9 3h3a2 2 0 0 1 2 2v1h1a2 2 0 1 1 0 4h-1v2a2 2 0 0 1-2 2H9v1a2 2 0 1 1-4 0v-1H4a2 2 0 1 1 0-4h1V8a5 5 0 0 1 4-5Z",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})});case"settings":return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:r,stroke:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M12 8.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",strokeWidth:"1.6"}),(0,s.jsx)("path",{d:"M3 12h2.2M18.8 12H21M6.2 6.2l1.6 1.1M16.2 16.7l1.6 1.1M6.2 17.8l1.6-1.1M16.2 7.3l1.6-1.1",strokeWidth:"1.6",strokeLinecap:"round"})]});case"tickets":return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:r,stroke:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M4 8a2 2 0 0 1 2-2h10l4 4v6a2 2 0 0 1-2 2H8l-4-4V8Z",strokeWidth:"1.6"}),(0,s.jsx)("path",{d:"M15 6v12",strokeWidth:"1.6",strokeDasharray:"2 2"})]});case"shield":return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:r,stroke:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M12 3 5 6v6a9 9 0 0 0 7 8 9 9 0 0 0 7-8V6l-7-3Z",strokeWidth:"1.6",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M9.5 12.5 11 14l3.5-3.5",strokeWidth:"1.6",strokeLinecap:"round"})]});case"tag":return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:r,stroke:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M3 12V6a2 2 0 0 1 2-2h6l10 10-6 6L3 12Z",strokeWidth:"1.6",strokeLinejoin:"round"}),(0,s.jsx)("circle",{cx:"8",cy:"8",r:"1.2",fill:l})]});case"info":return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:r,stroke:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"9",strokeWidth:"1.6"}),(0,s.jsx)("path",{d:"M12 10v6",strokeWidth:"1.6",strokeLinecap:"round"}),(0,s.jsx)("circle",{cx:"12",cy:"7",r:"1.2",fill:l})]});case"refresh":return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:r,stroke:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M20 12a8 8 0 1 1-2.34-5.66",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M20 4v5h-5",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]});case"clock":return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:r,stroke:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"9",strokeWidth:"1.6"}),(0,s.jsx)("path",{d:"M12 7v6l4 2",strokeWidth:"1.6",strokeLinecap:"round"})]})}}r(2265)},2837:function(e,t,r){"use strict";function s(){return new URL(window.location.href).searchParams.get("guildId")||localStorage.getItem("guildId")}function l(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=(e||"").trim();if(r?localStorage.setItem("guildId",r):localStorage.removeItem("guildId"),t)try{let e=new URL(window.location.href);r?e.searchParams.set("guildId",r):e.searchParams.delete("guildId"),window.history.replaceState({},"",e.toString())}catch(e){}}r.d(t,{J:function(){return l},_:function(){return s}})},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return l.a}});var s=r(231),l=r.n(s)},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}})},8877:function(){}},function(e){e.O(0,[404,231,971,23,744],function(){return e(e.s=9327)}),_N_E=e.O()}]);