(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{7147:function(e,l,t){Promise.resolve().then(t.bind(t,3989))},3989:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return d}});var n=t(7437),a=t(2265),s=t(9988),o=t(2837),i=t(7814);let r={prefix:"!",locale:"pt",logsEnabled:!0,modlogChannelId:""};function c(){let[e,l]=(0,a.useState)(r),[t,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),g=(0,o._)(),{t:h}=(0,i.QT)(),[x,m]=(0,a.useState)([]),p=e=>{switch(String("string"==typeof e?e:(null==e?void 0:e.type)||"").toLowerCase()){case"guild_text":case"text":return"Text";case"guild_announcement":case"announcement":return"Announcement";case"guild_voice":case"voice":return"Voice";case"guild_category":case"category":return"Category";default:return"Channel"}};(0,a.useEffect)(()=>{g&&(async()=>{try{var e,t,n,a,o;let i=await (null===(e=s.h.getSettings)||void 0===e?void 0:e.call(s.h,g));i&&l({prefix:null!==(t=i.prefix)&&void 0!==t?t:r.prefix,locale:null!==(n=i.locale)&&void 0!==n?n:r.locale,logsEnabled:null!==(a=i.logsEnabled)&&void 0!==a?a:r.logsEnabled,modlogChannelId:null!==(o=i.modlogChannelId)&&void 0!==o?o:r.modlogChannelId})}catch(e){}try{let e=await s.h.getChannels(g);m(e.channels||e||[])}catch(e){}u(!0)})()},[g]);let b=async()=>{if(g){c(!0);try{var l;await (null===(l=s.h.postSettings)||void 0===l?void 0:l.call(s.h,g,e))}finally{c(!1)}}};return(0,n.jsxs)("form",{className:"card p-5 max-w-xl space-y-4",onSubmit:e=>{e.preventDefault(),b()},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"prefix",className:"block text-sm mb-1",children:h("settings.prefix")}),(0,n.jsx)("input",{id:"prefix",title:h("settings.prefix"),placeholder:h("settings.prefix.placeholder"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:e.prefix,onChange:e=>l(l=>({...l,prefix:e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"locale",className:"block text-sm mb-1",children:h("settings.locale")}),(0,n.jsxs)("select",{id:"locale",title:h("settings.locale"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:e.locale,onChange:e=>l(l=>({...l,locale:e.target.value})),children:[(0,n.jsx)("option",{value:"pt",children:h("settings.locale.pt")}),(0,n.jsx)("option",{value:"en",children:h("settings.locale.en")})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{id:"logsEnabled",type:"checkbox",className:"h-4 w-4",checked:e.logsEnabled,onChange:e=>l(l=>({...l,logsEnabled:e.target.checked}))}),(0,n.jsx)("label",{htmlFor:"logsEnabled",className:"text-sm",children:h("settings.logsEnabled")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"modlog",className:"block text-sm mb-1",children:h("settings.modlogChannelId")}),(0,n.jsxs)("select",{id:"modlog",title:h("settings.modlogChannelId"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:e.modlogChannelId,onChange:e=>l(l=>({...l,modlogChannelId:e.target.value})),children:[(0,n.jsx)("option",{value:"",children:"â€”"}),x.filter(e=>{let l=String(e.type||"").toLowerCase();return l.includes("text")||l.includes("announcement")}).map(e=>(0,n.jsx)("option",{value:e.id,children:"#".concat(e.name," (").concat(p(e),")")},e.id))]})]}),(0,n.jsx)("div",{className:"flex gap-2 pt-2",children:(0,n.jsx)("button",{type:"submit",disabled:t,className:"px-4 py-2 rounded-lg bg-brand-600 hover:bg-brand-700 font-medium disabled:opacity-60",children:h(t?"settings.saving":d?"settings.save":"settings.loading")})})]})}function d(){let{t:e}=(0,i.QT)();return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:e("settings.title")}),(0,n.jsx)(c,{})]})}}},function(e){e.O(0,[814,482,971,23,744],function(){return e(e.s=7147)}),_N_E=e.O()}]);