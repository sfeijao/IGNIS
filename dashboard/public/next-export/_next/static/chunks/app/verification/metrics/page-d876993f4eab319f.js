(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{6739:function(e,t,i){Promise.resolve().then(i.bind(i,7595))},8183:function(e,t,i){"use strict";i.d(t,{ToasterProvider:function(){return n},p:function(){return c}});var s=i(7437),r=i(2265);let a=(0,r.createContext)(null);function c(){let e=(0,r.useContext)(a);if(!e)throw Error("useToast must be used within <ToasterProvider />");return e}function n(e){let{children:t}=e,[i,c]=(0,r.useState)([]),n=(0,r.useRef)(0),l=(0,r.useCallback)(e=>{c(t=>t.filter(t=>t.id!==e))},[]),o=(0,r.useCallback)(e=>{let t="".concat(Date.now(),"_").concat(n.current++),i={id:t,...e};c(e=>[...e,i]),window.setTimeout(()=>l(t),4500)},[l]),d=(0,r.useMemo)(()=>({toast:o}),[o]);return(0,s.jsxs)(a.Provider,{value:d,children:[t,(0,s.jsx)("div",{className:"fixed z-50 right-4 bottom-4 flex flex-col gap-2 w-[min(92vw,380px)]",role:"status","aria-live":"polite",children:i.map(e=>(0,s.jsxs)("div",{className:"rounded-xl border p-3 shadow-lg backdrop-blur card ".concat("success"===e.type?"border-emerald-700/60":"error"===e.type?"border-rose-700/60":"border-neutral-700/60"),children:[e.title&&(0,s.jsx)("div",{className:"text-sm font-semibold mb-0.5",children:e.title}),e.description&&(0,s.jsx)("div",{className:"text-xs text-neutral-300",children:e.description})]},e.id))})]})}},7595:function(e,t,i){"use strict";i.d(t,{default:function(){return o}});var s=i(7437),r=i(2265),a=i(2837),c=i(9988),n=i(8183),l=i(7814);function o(){let[e,t]=(0,r.useState)(null),[i,o]=(0,r.useState)(null),[d,u]=(0,r.useState)([]),[m,f]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),{toast:v}=(0,n.p)(),{t:p}=(0,l.QT)();(0,r.useEffect)(()=>{t((0,a._)())},[]);let b=async e=>{f(!0),h(null);try{let[t,i]=await Promise.all([c.h.getVerificationMetrics(e),c.h.getVerificationLogs(e,{limit:100})]);o((null==t?void 0:t.metrics)||t),u((null==i?void 0:i.logs)||i||[])}catch(e){h((null==e?void 0:e.message)||p("verification.metrics.error"))}finally{f(!1)}};(0,r.useEffect)(()=>{e&&b(e)},[e]);let g=async()=>{if(e){f(!0);try{await c.h.purgeVerificationLogs(e),v({type:"success",title:p("verification.metrics.clearLogs")}),await b(e)}catch(e){v({type:"error",title:p("verification.metrics.error"),description:null==e?void 0:e.message})}finally{f(!1)}}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:p("verification.metrics.title")}),(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>e&&b(e),title:p("verification.metrics.reload"),children:p("verification.metrics.reload")}),(0,s.jsx)("button",{className:"btn btn-danger",onClick:g,title:p("verification.metrics.clearLogs"),children:p("verification.metrics.clearLogs")})]}),x&&(0,s.jsx)("div",{className:"text-red-400",children:x}),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:p("verification.metrics.section")}),(0,s.jsx)("div",{className:"card-body grid grid-cols-2 md:grid-cols-4 gap-3",children:i?Object.entries(i).map(e=>{let[t,i]=e;return(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-neutral-800/50 border border-neutral-800",children:[(0,s.jsx)("div",{className:"text-xs opacity-70",children:t}),(0,s.jsx)("div",{className:"text-xl font-semibold",children:String(i)})]},t)}):(0,s.jsx)("div",{className:"opacity-70",children:p("verification.metrics.noData")})})]}),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:p("verification.metrics.recentLogs")}),(0,s.jsxs)("div",{className:"card-body text-xs max-h-[360px] overflow-auto",children:[0===d.length&&(0,s.jsx)("div",{className:"opacity-70",children:p("verification.metrics.noLogs")}),d.map((e,t)=>(0,s.jsxs)("div",{className:"border-b border-neutral-900/60 py-1",children:[(0,s.jsxs)("span",{className:"opacity-60",children:[new Date(e.timestamp||Date.now()).toLocaleString()," â€¢ "]}),(0,s.jsx)("span",{children:e.message||JSON.stringify(e)})]},t))]})]})]})}}},function(e){e.O(0,[814,482,971,23,744],function(){return e(e.s=6739)}),_N_E=e.O()}]);