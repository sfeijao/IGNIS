"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{7630:function(e,t,i){i.r(t),i.d(t,{default:function(){return d}});var l=i(7437),a=i(2265),r=i(2837),n=i(7814),o=i(9988);let s=e=>{let t=String(e.type||"").toLowerCase();return t.includes("text")||t.includes("announcement")},c=e=>{switch(String("string"==typeof e?e:(null==e?void 0:e.type)||"").toLowerCase()){case"guild_text":case"text":return"Text";case"guild_announcement":case"announcement":return"Announcement";case"guild_voice":case"voice":return"Voice";case"guild_category":case"category":return"Category";default:return"Channel"}};function d(){var e;let t=(0,r._)(),[i,d]=(0,a.useState)({mode:"easy",method:"button",cooldownSeconds:0,logFails:!1}),[p,h]=(0,a.useState)({template:"minimal",title:"",description:"",buttonLabel:"",color:"#7C3AED"}),[v,x]=(0,a.useState)(""),[f,b]=(0,a.useState)(!0),[g,j]=(0,a.useState)(!1),[y,N]=(0,a.useState)("idle"),[w,k]=(0,a.useState)([]),[C,S]=(0,a.useState)([]),[R,_]=(0,a.useState)("idle"),{t:F}=(0,n.QT)();(0,a.useEffect)(()=>{if(!t)return;let e=!1;return(async()=>{try{let i=await fetch("/api/guild/".concat(t,"/verification/config"),{credentials:"include"});if(i.ok){let t=await i.json(),l=(null==t?void 0:t.config)||t||{};if(!e){d({mode:l.mode||"easy",method:l.method||"button",cooldownSeconds:Number(l.cooldownSeconds||0),logFails:!!l.logFails,logFailRetention:l.logFailRetention||(l.logFails?7:void 0),verifiedRoleId:l.verifiedRoleId||"",unverifiedRoleId:l.unverifiedRoleId||"",form:l.form&&l.form.questions?{questions:l.form.questions}:void 0});let e=l.panelDefaults||{};h({template:["minimal","rich"].includes(e.template)?e.template:"minimal",title:e.title||"",description:e.description||"",buttonLabel:e.buttonLabel||"",color:e.color||"#7C3AED"})}}}catch(e){}try{let i=await o.h.getChannels(t);e||k(i.channels||i||[])}catch(e){}try{let i=await o.h.getRoles(t);e||S(i.roles||i||[])}catch(e){}})(),()=>{e=!0}},[t]);let L=(0,a.useMemo)(()=>w.filter(s),[w]),A=async()=>{if(t){j(!0),N("saving");try{let e={mode:i.mode||"easy",method:i.method||"button",cooldownSeconds:Math.max(0,Math.min(3600,Number(i.cooldownSeconds||0))),logFails:!!i.logFails,verifiedRoleId:i.verifiedRoleId||void 0,unverifiedRoleId:i.unverifiedRoleId||void 0};e.logFails&&(e.logFailRetention=Math.max(1,Math.min(90,Number(i.logFailRetention||7)))),"form"===i.method&&i.form&&Array.isArray(i.form.questions)&&i.form.questions.length>0&&(e.form={questions:i.form.questions});let l=await fetch("/api/guild/".concat(t,"/verification/config"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});N(l.ok?"ok":"err")}catch(e){N("err")}finally{j(!1),setTimeout(()=>N("idle"),1500)}}},D=async()=>{if(t){j(!0),N("saving");try{let e={panelDefaults:{template:p.template,title:(p.title||"").trim(),description:(p.description||"").trim(),buttonLabel:(p.buttonLabel||"").trim(),color:(p.color||"").trim()}},i=await fetch("/api/guild/".concat(t,"/verification/config"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});N(i.ok?"ok":"err")}catch(e){N("err")}finally{j(!1),setTimeout(()=>N("idle"),1500)}}},q=async()=>{if(t){j(!0),N("saving");try{let e=await fetch("/api/guild/".concat(t,"/verification/config"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({panelDefaults:{clear:!0}})});N(e.ok?"ok":"err")}catch(e){N("err")}finally{j(!1),setTimeout(()=>N("idle"),1500)}}},T=async()=>{if(t&&v){j(!0),N("saving");try{let e={type:"verification",channel_id:v,theme:"dark"};f||(e.template=p.template||"minimal",e.options={title:(p.title||"").trim()||void 0,description:(p.description||"").trim()||void 0,buttonLabel:(p.buttonLabel||"").trim()||void 0,color:(p.color||"").trim()||void 0});let i=await o.h.createPanel(t,e);N((null==i?void 0:i.success)?"ok":"err")}catch(e){N("err")}finally{j(!1),setTimeout(()=>N("idle"),1500)}}},I=async()=>{if(t){_("sending");try{let e={type:"verification",dryRun:!0,theme:"dark"};f||(e.template=p.template||"minimal",e.options={title:(p.title||"").trim()||void 0,description:(p.description||"").trim()||void 0,buttonLabel:(p.buttonLabel||"").trim()||void 0,color:(p.color||"").trim()||void 0});let i=await o.h.createPanel(t,e);_((null==i?void 0:i.success)?"ok":"err")}catch(e){_("err")}finally{setTimeout(()=>_("idle"),2e3)}}};return(0,l.jsxs)("div",{className:"space-y-4",children:[!t&&(0,l.jsx)("div",{className:"card p-4 text-sm text-neutral-400",children:F("verification.selectGuild")}),(0,l.jsxs)("form",{className:"card p-5 max-w-2xl space-y-4",onSubmit:e=>{e.preventDefault(),A()},children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.mode")}),(0,l.jsxs)("select",{title:F("verification.mode"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:i.mode,onChange:e=>d(t=>({...t,mode:e.target.value})),children:[(0,l.jsx)("option",{value:"easy",children:F("verification.mode.easy")}),(0,l.jsx)("option",{value:"medium",children:F("verification.mode.medium")}),(0,l.jsx)("option",{value:"hard",children:F("verification.mode.hard")})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.method")}),(0,l.jsxs)("select",{title:F("verification.method"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:i.method,onChange:e=>d(t=>({...t,method:e.target.value})),children:[(0,l.jsx)("option",{value:"button",children:F("verification.method.button")}),(0,l.jsx)("option",{value:"image",children:F("verification.method.image")}),(0,l.jsx)("option",{value:"reaction",children:F("verification.method.reaction")}),(0,l.jsx)("option",{value:"form",children:F("verification.method.form")})]}),(0,l.jsxs)("p",{className:"text-xs opacity-70 mt-1",children:["button"===i.method&&F("verification.method.help.button"),"image"===i.method&&F("verification.method.help.image"),"reaction"===i.method&&F("verification.method.help.reaction"),"form"===i.method&&F("verification.method.help.form")]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.cooldownSeconds")}),(0,l.jsx)("input",{title:F("verification.cooldownSeconds"),placeholder:"0",type:"number",min:0,max:3600,value:Number(i.cooldownSeconds||0),onChange:e=>d(t=>({...t,cooldownSeconds:Math.max(0,Math.min(3600,parseInt(e.target.value||"0",10)||0))})),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[(0,l.jsx)("input",{id:"v-logfails",type:"checkbox",checked:!!i.logFails,onChange:e=>d(t=>({...t,logFails:e.target.checked}))}),(0,l.jsx)("label",{htmlFor:"v-logfails",children:F("verification.logFails")})]})]}),i.logFails&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.logFailRetention")}),(0,l.jsx)("input",{title:F("verification.logFailRetention"),placeholder:"7",type:"number",min:1,max:90,value:Number(i.logFailRetention||7),onChange:e=>d(t=>({...t,logFailRetention:Math.max(1,Math.min(90,parseInt(e.target.value||"7",10)||7))})),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2 max-w-xs"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.verifiedRole")}),(0,l.jsxs)("select",{title:F("verification.verifiedRole"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:i.verifiedRoleId||"",onChange:e=>d(t=>({...t,verifiedRoleId:e.target.value})),children:[(0,l.jsx)("option",{value:"",children:"—"}),C.map(e=>(0,l.jsx)("option",{value:e.id,children:"@".concat(e.name)},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.unverifiedRole")}),(0,l.jsxs)("select",{title:F("verification.unverifiedRole"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:i.unverifiedRoleId||"",onChange:e=>d(t=>({...t,unverifiedRoleId:e.target.value})),children:[(0,l.jsx)("option",{value:"",children:"—"}),C.map(e=>(0,l.jsx)("option",{value:e.id,children:"@".concat(e.name)},e.id))]})]})]}),"form"===i.method&&(0,l.jsx)(u,{value:(null===(e=i.form)||void 0===e?void 0:e.questions)||[],onChange:e=>d(t=>({...t,form:{questions:e}}))}),(0,l.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,l.jsx)("button",{disabled:g,className:"px-4 py-2 rounded-lg bg-brand-600 hover:bg-brand-700 font-medium disabled:opacity-60",children:F("saving"===y?"verification.saving":"verification.save")}),"ok"===y&&(0,l.jsx)("span",{className:"text-emerald-400 text-sm",children:F("verification.saved")}),"err"===y&&(0,l.jsx)("span",{className:"text-rose-400 text-sm",children:F("verification.saveFailed")})]})]}),(0,l.jsxs)("div",{className:"card p-5 max-w-2xl space-y-4",children:[(0,l.jsx)("div",{className:"text-lg font-semibold",children:F("verification.panel.defaults")}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.panel.template")}),(0,l.jsxs)("select",{title:F("verification.panel.template"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:p.template,onChange:e=>h(t=>({...t,template:e.target.value})),children:[(0,l.jsx)("option",{value:"minimal",children:F("verification.panel.template.minimal")}),(0,l.jsx)("option",{value:"rich",children:F("verification.panel.template.rich")})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.panel.color")}),(0,l.jsx)("input",{title:F("verification.panel.color"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:p.color||"",onChange:e=>h(t=>({...t,color:e.target.value})),placeholder:"#7C3AED"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.panel.title")}),(0,l.jsx)("input",{title:F("verification.panel.title"),placeholder:F("verification.panel.title"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:p.title||"",onChange:e=>h(t=>({...t,title:e.target.value}))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.panel.buttonLabel")}),(0,l.jsx)("input",{title:F("verification.panel.buttonLabel"),placeholder:F("verification.panel.buttonLabel"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:p.buttonLabel||"",onChange:e=>h(t=>({...t,buttonLabel:e.target.value}))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.panel.description")}),(0,l.jsx)("textarea",{title:F("verification.panel.description"),placeholder:F("verification.panel.description"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",rows:3,value:p.description||"",onChange:e=>h(t=>({...t,description:e.target.value}))})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:D,className:"px-4 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 border border-neutral-700",children:F("verification.panel.saveDefaults")}),(0,l.jsx)("button",{onClick:q,className:"px-4 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 border border-neutral-700",children:F("verification.panel.resetDefaults")})]})]}),(0,l.jsxs)("div",{className:"card p-5 max-w-2xl space-y-4",children:[(0,l.jsx)("div",{className:"text-lg font-semibold",children:F("verification.panel.preview")}),(0,l.jsx)(m,{title:p.title||"",description:p.description||"",buttonLabel:p.buttonLabel||F("verification.panel.buttonLabel"),color:p.color||"#7C3AED",hideButton:"reaction"===i.method})]}),(0,l.jsxs)("div",{className:"card p-5 max-w-2xl space-y-4",children:[(0,l.jsx)("div",{className:"text-lg font-semibold",children:F("verification.panel.create")}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:F("verification.panel.channel")}),(0,l.jsxs)("select",{title:F("verification.panel.channel"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:v,onChange:e=>x(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"—"}),L.map(e=>(0,l.jsx)("option",{value:e.id,children:"#".concat(e.name," (").concat(c(e),")")},e.id))]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[(0,l.jsx)("input",{id:"useSavedDefaults",type:"checkbox",checked:f,onChange:e=>b(e.target.checked)}),(0,l.jsx)("label",{htmlFor:"useSavedDefaults",children:F("verification.panel.useSavedDefaults")})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:T,disabled:!v,className:"px-4 py-2 rounded-lg bg-brand-600 hover:bg-brand-700 font-medium disabled:opacity-60",children:F("verification.panel.createButton")}),(0,l.jsx)("button",{onClick:I,className:"ml-2 px-4 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 border border-neutral-700",children:F("verification.panel.test")}),"sending"===R&&(0,l.jsx)("span",{className:"ml-2 text-sm opacity-70",children:F("common.working")}),"ok"===R&&(0,l.jsx)("span",{className:"ml-2 text-sm text-emerald-400",children:F("verification.panel.test.sent")}),"err"===R&&(0,l.jsx)("span",{className:"ml-2 text-sm text-rose-400",children:F("verification.panel.test.fail")})]})]})]})}function u(e){let{value:t,onChange:i}=e,{t:r}=(0,n.QT)(),[o,s]=(0,a.useState)(()=>Array.isArray(t)?t.slice():[]),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)("short_text"),[p,h]=(0,a.useState)(!1),[v,x]=(0,a.useState)(""),[f,b]=(0,a.useState)([]),[g,j]=(0,a.useState)(null),[y,N]=(0,a.useState)(null);(0,a.useEffect)(()=>{s(Array.isArray(t)?t.slice():[])},[t]),(0,a.useEffect)(()=>{i(o)},[o]);let w=()=>{d(""),m("short_text"),h(!1),x(""),b([]),j(null)},k=e=>b(t=>t.filter((t,i)=>i!==e)),C=(e,t)=>s(i=>{let l=i.slice(),a=e+t;if(a<0||a>=l.length)return l;let r=l[e];return l[e]=l[a],l[a]=r,l}),S=e=>s(t=>t.filter((t,i)=>i!==e)),R=e=>{let t=o[e];t&&(d(t.label||""),m(t.type||"short_text"),h(!!t.required),b(Array.isArray(t.options)?t.options.slice():[]),j(e))},_=0===(c||"").trim().length,F=("multiple_choice"===u||"dropdown"===u)&&f.length<2,L=!_&&!F;return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"text-lg font-semibold",children:r("verification.form.title")}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm mb-1",htmlFor:"q-label",children:r("verification.form.newQuestionLabel")}),(0,l.jsx)("input",{id:"q-label",title:r("verification.form.newQuestionLabel"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:c,onChange:e=>d(e.target.value),placeholder:r("verification.form.newQuestionLabel")}),_&&(0,l.jsx)("div",{className:"text-xs text-rose-400 mt-1",children:r("verification.form.errors.needLabel")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",htmlFor:"q-type",children:r("verification.form.type")}),(0,l.jsxs)("select",{id:"q-type",title:r("verification.form.type"),className:"w-full rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:u,onChange:e=>m(e.target.value),children:[(0,l.jsx)("option",{value:"short_text",children:r("verification.form.type.short_text")}),(0,l.jsx)("option",{value:"long_text",children:r("verification.form.type.long_text")}),(0,l.jsx)("option",{value:"yes_no",children:r("verification.form.type.yes_no")}),(0,l.jsx)("option",{value:"multiple_choice",children:r("verification.form.type.multiple_choice")}),(0,l.jsx)("option",{value:"dropdown",children:r("verification.form.type.dropdown")})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{id:"q-required",type:"checkbox",checked:p,onChange:e=>h(e.target.checked)}),(0,l.jsx)("label",{htmlFor:"q-required",children:r("verification.form.required")})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"button",disabled:!L,onClick:()=>{var e;let t=(c||"").trim();if(!t)return;let i={id:null!=g&&(null===(e=o[g])||void 0===e?void 0:e.id)||"".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,8)),label:t,type:u,required:p};if("multiple_choice"===u||"dropdown"===u){if(f.length<2)return;i.options=f.slice()}s(e=>{if(null!=g){let t=e.slice();return t[g]=i,t}return[...e,i]}),w()},className:"px-4 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 w-full disabled:opacity-60",children:null!=g?r("verification.form.updateQuestion"):r("verification.form.addQuestion")})})]}),("multiple_choice"===u||"dropdown"===u)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm mb-1",children:r("verification.form.options")}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{title:r("verification.form.option.placeholder"),className:"flex-1 rounded-lg bg-neutral-900 border border-neutral-800 px-3 py-2",value:v,onChange:e=>x(e.target.value),placeholder:r("verification.form.option.placeholder")}),(0,l.jsx)("button",{type:"button",onClick:()=>{let e=(v||"").trim();!(!e||f.includes(e))&&(f.length>=25||(b(t=>[...t,e]),x("")))},className:"px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 border border-neutral-700",children:r("verification.form.addOption")})]}),(0,l.jsx)("ul",{className:"mt-2 space-y-2",children:f.map((e,t)=>(0,l.jsxs)("li",{className:"flex items-center justify-between p-2 rounded-lg bg-neutral-900 border border-neutral-800",children:[(0,l.jsx)("span",{className:"text-sm",children:e}),(0,l.jsx)("button",{type:"button",onClick:()=>k(t),className:"text-xs text-rose-400 hover:text-rose-300",children:r("verification.form.delete")})]},"".concat(e,"-").concat(t)))}),F&&(0,l.jsx)("div",{className:"text-xs text-rose-400 mt-1",children:r("verification.form.errors.needTwoOptions")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm mb-2 opacity-80",children:r("verification.form.list")}),0===o.length&&(0,l.jsx)("div",{className:"text-sm opacity-60",children:r("verification.metrics.noData")}),(0,l.jsx)("ul",{className:"space-y-2",children:o.map((e,t)=>(0,l.jsx)("li",{className:"p-3 rounded-lg bg-neutral-900 border border-neutral-800",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.label}),(0,l.jsx)("div",{className:"text-xs opacity-70",children:r("verification.form.type.".concat(e.type))}),Array.isArray(e.options)&&e.options.length>0&&(0,l.jsxs)("div",{className:"text-xs opacity-70",children:[r("verification.form.options"),": ",e.options.length]}),e.required&&(0,l.jsx)("div",{className:"text-xs text-amber-300",children:r("verification.form.required")})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>C(t,-1),className:"text-xs px-2 py-1 rounded bg-neutral-800 hover:bg-neutral-700 border border-neutral-700",children:r("verification.form.moveUp")}),(0,l.jsx)("button",{type:"button",onClick:()=>C(t,1),className:"text-xs px-2 py-1 rounded bg-neutral-800 hover:bg-neutral-700 border border-neutral-700",children:r("verification.form.moveDown")}),(0,l.jsx)("button",{type:"button",onClick:()=>R(t),className:"text-xs px-2 py-1 rounded bg-neutral-800 hover:bg-neutral-700 border border-neutral-700",children:r("verification.form.edit")}),(0,l.jsx)("button",{type:"button",onClick:()=>S(t),className:"text-xs px-2 py-1 rounded bg-rose-700 hover:bg-rose-600 border border-rose-600",children:r("verification.form.delete")})]})]})},e.id||t))})]}),(0,l.jsxs)("div",{className:"pt-2 flex flex-wrap gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>(function(e){try{let t=new Blob([JSON.stringify(e||[],null,2)],{type:"application/json"}),i=URL.createObjectURL(t),l=document.createElement("a");l.href=i,l.download="verification-form.json",document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(i)}catch(e){}})(o),className:"px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 border border-neutral-700",children:r("verification.form.export")}),(0,l.jsxs)("label",{className:"px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 cursor-pointer",children:[(0,l.jsx)("input",{type:"file",accept:"application/json",className:"hidden",onChange:e=>(function(e,t,i){try{var l,a;i(null);let r=null==e?void 0:null===(a=e.target)||void 0===a?void 0:null===(l=a.files)||void 0===l?void 0:l[0];if(!r)return;let n=new FileReader;n.onload=()=>{try{let e=JSON.parse(String(n.result||"[]"));if(!Array.isArray(e))throw Error("invalid");let i=new Set(["short_text","long_text","yes_no","multiple_choice","dropdown"]),l=e.map(e=>{let t=String((null==e?void 0:e.label)||"").trim(),l=String((null==e?void 0:e.type)||"short_text"),a=!!(null==e?void 0:e.required),r=Array.isArray(null==e?void 0:e.options)?e.options.map(e=>String(e)).filter(Boolean):void 0;if(!t||!i.has(l)||("multiple_choice"===l||"dropdown"===l)&&(!r||r.length<2))throw Error("invalid");return{id:String((null==e?void 0:e.id)||"".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,8))),label:t,type:l,required:a,options:r}});t(l)}catch(e){i("invalid")}},n.readAsText(r)}catch(e){i("invalid")}})(e,s,N)}),r("verification.form.import")]}),y&&(0,l.jsx)("div",{className:"text-xs text-rose-400",children:y})]})]})}function m(e){let{title:t,description:i,buttonLabel:a,color:r,hideButton:n}=e,o=/^#?[0-9a-fA-F]{6}$/.test((r||"").replace("#",""))?r.startsWith("#")?r:"#"+r:"#7C3AED";return(0,l.jsxs)("div",{className:"rounded-lg border border-neutral-800 p-4 bg-neutral-900/50",children:[(0,l.jsx)("svg",{className:"w-full mb-3",role:"img","aria-label":"color-preview",height:"4",children:(0,l.jsx)("rect",{x:"0",y:"0",width:"100%",height:"4",fill:o})}),(0,l.jsx)("div",{className:"font-semibold text-lg mb-1",children:t||"\uD83D\uDD12 Verifica\xe7\xe3o do Servidor"}),(0,l.jsx)("div",{className:"text-sm opacity-90 whitespace-pre-line",children:i||"Clica em Verificar para concluir e ganhar acesso aos canais."}),!n&&(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsxs)("button",{className:"px-4 py-2 rounded bg-brand-600 hover:bg-brand-700",children:[(0,l.jsx)("span",{className:"mr-1",children:"✅"}),a||"Verificar"]})})]})}}}]);