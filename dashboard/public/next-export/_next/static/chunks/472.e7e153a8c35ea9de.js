"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{1472:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),l=a(2265),r=a(9988),n=a(2837);function i(e){let{guildId:t,ticketId:a,onClose:n}=e,[i,o]=(0,l.useState)(!0),[u,x]=(0,l.useState)(null),[m,h]=(0,l.useState)(null),[p,g]=(0,l.useState)(null),[b,v]=(0,l.useState)(0),[j,f]=(0,l.useState)(!1),[k,N]=(0,l.useState)("overview"),[y,w]=(0,l.useState)([]),[S,C]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=!1;return(async()=>{o(!0),x(null);try{let l=await r.h.getTicketDetails(t,a),n=await r.h.getTicketLogs(t,a,{limit:200,offset:0});if(!e){var s;h(l),g(n),v((null==n?void 0:null===(s=n.logs)||void 0===s?void 0:s.length)||0);try{let s=await r.h.getTicketMessages(t,a,{limit:100});e||(w(s.messages||[]),C(s.nextBefore||null))}catch(e){}}}catch(t){e||x((null==t?void 0:t.message)||"Failed to load ticket")}finally{e||o(!1)}})(),()=>{e=!0}},[t,a]);let T=async()=>{if(!j)try{var e;f(!0);let s=await r.h.getTicketLogs(t,a,{limit:200,offset:b});g(e=>e?{...e,logs:[...e.logs,...s.logs]}:s),v(b+((null==s?void 0:null===(e=s.logs)||void 0===e?void 0:e.length)||0))}catch(e){}finally{f(!1)}},P=async()=>{if(S)try{let e=await r.h.getTicketMessages(t,a,{limit:100,before:S});w(t=>[...e.messages||[],...t]),C(e.nextBefore||null)}catch(e){}};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60",onClick:n}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-5xl card p-0 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 border-b border-neutral-800",children:[(0,s.jsxs)("div",{className:"font-semibold",children:["Ticket #",a]}),(0,s.jsx)("button",{onClick:n,className:"text-neutral-400 hover:text-white",children:"✕"})]}),i&&(0,s.jsx)("div",{className:"p-6 text-neutral-400",children:"Carregando…"}),u&&(0,s.jsx)("div",{className:"p-6 text-red-400",children:u}),!i&&!u&&m&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"px-5 pt-3 flex items-center gap-2 border-b border-neutral-800",children:[(0,s.jsx)("button",{className:"px-3 py-2 text-sm rounded-t ".concat("overview"===k?"bg-neutral-800 border border-neutral-700 border-b-neutral-800":"text-neutral-400 hover:text-white"),onClick:()=>N("overview"),children:"Overview"}),(0,s.jsx)("button",{className:"px-3 py-2 text-sm rounded-t ".concat("logs"===k?"bg-neutral-800 border border-neutral-700 border-b-neutral-800":"text-neutral-400 hover:text-white"),onClick:()=>N("logs"),children:"Logs"}),(0,s.jsx)("button",{className:"px-3 py-2 text-sm rounded-t ".concat("transcript"===k?"bg-neutral-800 border border-neutral-700 border-b-neutral-800":"text-neutral-400 hover:text-white"),onClick:()=>N("transcript"),children:"Transcript"}),"transcript"===k&&(0,s.jsx)("a",{className:"ml-auto mr-5 text-sm text-blue-400 hover:text-blue-300 underline",href:"/api/guild/".concat(t,"/tickets/").concat(a,"?download=transcript"),target:"_blank",rel:"noreferrer",children:"Download transcript"})]}),"overview"===k&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-neutral-800",children:[(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsx)(c,{label:"Status",value:m.ticket.status}),(0,s.jsx)(c,{label:"Priority",value:m.ticket.priority||"normal"}),(0,s.jsx)(c,{label:"Owner",value:"".concat(m.ticket.ownerTag," (").concat(m.ticket.user_id,")")}),m.ticket.claimedByTag&&(0,s.jsx)(c,{label:"Claimed by",value:m.ticket.claimedByTag}),(0,s.jsx)(c,{label:"Channel",value:"".concat(m.ticket.channelName," (").concat(m.ticket.channel_id,")")}),(0,s.jsx)(c,{label:"Opened",value:m.ticket.timeAgo})]}),(0,s.jsxs)("div",{className:"p-4 md:col-span-2",children:[(0,s.jsx)("div",{className:"font-medium mb-2",children:"Recent activity"}),(0,s.jsx)("div",{className:"max-h-96 overflow-auto pr-1",children:(0,s.jsx)(d,{items:((null==p?void 0:p.logs)||[]).slice(0,20)})})]})]}),"logs"===k&&(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("div",{className:"font-medium mb-2",children:"Logs"}),(0,s.jsx)("div",{className:"max-h-96 overflow-auto pr-1",children:(0,s.jsx)(d,{items:(null==p?void 0:p.logs)||[]})}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)("button",{onClick:T,disabled:j,className:"px-3 py-1.5 rounded bg-neutral-800 border border-neutral-700 hover:bg-neutral-700 disabled:opacity-50 text-sm",children:j?"Loading…":"Load more"})})]}),"transcript"===k&&(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("div",{className:"font-medium mb-2",children:"Transcript"}),(0,s.jsxs)("div",{className:"max-h-[28rem] overflow-auto space-y-3",children:[y.map(e=>{var t,a;return(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsxs)("span",{className:"text-neutral-500",children:["[",new Date(e.timestamp).toLocaleString(),"]"]})," ",(0,s.jsxs)("span",{className:"text-neutral-300",children:[null===(t=e.author)||void 0===t?void 0:t.username,"#",null===(a=e.author)||void 0===a?void 0:a.discriminator]}),":"," ",(0,s.jsx)("span",{className:"text-neutral-200 whitespace-pre-wrap break-words",children:e.content||""})]},e.id)}),0===y.length&&(0,s.jsx)("div",{className:"text-neutral-400 text-sm",children:"No recent messages captured. Try the Download transcript link for a full export."})]}),(0,s.jsx)("div",{className:"mt-3 flex items-center gap-2",children:(0,s.jsx)("button",{onClick:P,disabled:!S,className:"px-3 py-1.5 rounded bg-neutral-800 border border-neutral-700 hover:bg-neutral-700 disabled:opacity-50 text-sm",children:S?"Load older messages":"No more messages"})})]})]})]})]})}function c(e){let{label:t,value:a}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-neutral-400",children:t}),(0,s.jsx)("div",{className:"text-neutral-200",children:a})]})}function d(e){let{items:t}=e;return(0,s.jsx)("ol",{className:"relative border-l border-neutral-800 pl-4",children:t.map((e,t)=>(0,s.jsxs)("li",{className:"mb-4 ml-2",children:[(0,s.jsx)("div",{className:"absolute -left-1.5 mt-1.5 w-3 h-3 bg-neutral-700 rounded-full border border-neutral-600"}),(0,s.jsx)("time",{className:"text-xs text-neutral-500",children:new Date(e.timestamp).toLocaleString()}),(0,s.jsxs)("div",{className:"text-sm text-neutral-300",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.action}),e.actorTag?" by ".concat(e.actorTag):""]}),e.message&&(0,s.jsx)("div",{className:"text-sm text-neutral-400 whitespace-pre-wrap break-words",children:e.message})]},t))})}var o=a(7814);let u=["","open","claimed","closed","pending"],x=["","low","normal","high","urgent"];function m(){var e,t;let a=(0,n._)(),{t:c}=(0,o.QT)(),[d,m]=(0,l.useState)(""),[p,g]=(0,l.useState)(""),[b,v]=(0,l.useState)(""),[j,f]=(0,l.useState)(1),[k,N]=(0,l.useState)(20),[y,w]=(0,l.useState)(!1),[S,C]=(0,l.useState)(null),[T,P]=(0,l.useState)(null),[F,L]=(0,l.useState)({}),[A,M]=(0,l.useState)(null),[O,R]=(0,l.useState)([]),[_,E]=(0,l.useState)(""),[I,B]=(0,l.useState)([]),[D,z]=(0,l.useState)(""),[U,q]=(0,l.useState)(!1),[G,H]=(0,l.useState)(!1),[Q,J]=(0,l.useState)(null),K=(0,l.useMemo)(()=>{let e=O.find(e=>e.id===_);return e?e.name:""},[O,_]),V=(0,l.useMemo)(()=>({status:d,priority:p,q:b,page:j,pageSize:k,staffOnly:U,role:U?_:"",deepRoleFetch:G}),[d,p,b,j,k,U,_,G]);(0,l.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("status")||"",a=e.get("priority")||"",s=e.get("q")||"",l=parseInt(e.get("page")||"1",10),n=parseInt(e.get("pageSize")||"20",10),i="true"===(e.get("staffOnly")||"").toLowerCase(),c=e.get("role")||"",d="true"===(e.get("deepRoleFetch")||"").toLowerCase();t&&m(t),a&&g(a),s&&v(s),!Number.isNaN(l)&&l>0&&f(l),!Number.isNaN(n)&&[10,20,50,100].includes(n)&&N(n),q(i),c&&E(c),H(d),(async()=>{try{var e;let t=await r.h.getCurrentUser();J((null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.id)||null)}catch(e){}})()},[]),(0,l.useEffect)(()=>{let e=new URL(window.location.href);d?e.searchParams.set("status",d):e.searchParams.delete("status"),p?e.searchParams.set("priority",p):e.searchParams.delete("priority"),b?e.searchParams.set("q",b):e.searchParams.delete("q"),e.searchParams.set("page",String(j)),e.searchParams.set("pageSize",String(k)),U?e.searchParams.set("staffOnly","true"):e.searchParams.delete("staffOnly"),U&&_?e.searchParams.set("role",_):e.searchParams.delete("role"),G?e.searchParams.set("deepRoleFetch","true"):e.searchParams.delete("deepRoleFetch"),window.history.replaceState({},"",e.toString())},[d,p,b,j,k,U,_,G]),(0,l.useEffect)(()=>{if(!a)return;let e=!1;return(async()=>{try{let t=await r.h.getRoles(a);e||R((t.roles||[]).map(e=>({id:String(e.id),name:String(e.name)})))}catch(e){}})(),()=>{e=!0}},[a]),(0,l.useEffect)(()=>{if(!a||!_){B([]),z("");return}let e=!1;return(async()=>{try{let t=await r.h.getMembers(a,{role:_,limit:200});e||B((t||[]).map(e=>({id:String(e.id),username:String(e.username),discriminator:String(e.discriminator),nick:e.nick||null})))}catch(t){e||B([])}})(),()=>{e=!0}},[a,_]),(0,l.useEffect)(()=>{if(!a)return;let e=!1;return(async()=>{w(!0),C(null);try{let t=await r.h.getTickets(a,V);e||P(t)}catch(t){e||C((null==t?void 0:t.message)||"Failed to load tickets")}finally{e||w(!1)}})(),()=>{e=!0}},[a,V]);let W=async(e,t)=>{if(a)try{await r.h.ticketAction(a,e,t);let s=await r.h.getTickets(a,V);P(s)}catch(e){alert((null==e?void 0:e.message)||"Failed to perform action")}},X=e=>{let t={};for(let a of(null==T?void 0:T.tickets)||[])t[a.id]=e;L(t)},Y=(0,l.useMemo)(()=>Object.keys(F).filter(e=>F[e]),[F]),Z=async()=>{if(a&&0!==Y.length&&confirm("Close ".concat(Y.length," tickets?"))){for(let e of Y)try{await r.h.ticketAction(a,e,"close")}catch(e){}P(await r.h.getTickets(a,V)),L({})}},$=async()=>{if(!a||0===Y.length)return;let e=D||"";if(!e){alert("Select a staff role and assignee.");return}for(let t of Y)try{await r.h.ticketAction(a,t,"assign",{userId:e})}catch(e){}P(await r.h.getTickets(a,V)),L({})},ee=async()=>{if(!a||0===Y.length)return;let e=prompt("Add note to selected tickets:");if(e){for(let t of Y)try{await r.h.ticketAction(a,t,"addNote",{content:e})}catch(e){}P(await r.h.getTickets(a,V)),L({})}};return(0,s.jsxs)("div",{className:"space-y-4",children:[!a&&(0,s.jsx)("div",{className:"card p-4 text-sm text-neutral-400",children:c("tickets.selectGuildHelp")}),(0,s.jsxs)("div",{className:"card p-4 grid grid-cols-1 md:grid-cols-8 gap-3 items-end",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-neutral-400",children:c("tickets.status")}),(0,s.jsx)("select",{className:"mt-1 w-full bg-neutral-900 border border-neutral-700 rounded px-2 py-1","aria-label":"Filter by status",title:"Filter by status",value:d,onChange:e=>{f(1),m(e.target.value)},children:u.map(e=>(0,s.jsx)("option",{value:e,children:e||c("common.any")},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-neutral-400",children:c("tickets.priority")}),(0,s.jsx)("select",{className:"mt-1 w-full bg-neutral-900 border border-neutral-700 rounded px-2 py-1","aria-label":"Filter by priority",title:"Filter by priority",value:p,onChange:e=>{f(1),g(e.target.value)},children:x.map(e=>(0,s.jsx)("option",{value:e,children:e||c("common.any")},e))})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"text-xs text-neutral-400",children:c("tickets.search")}),(0,s.jsx)("input",{className:"mt-1 w-full bg-neutral-900 border border-neutral-700 rounded px-2 py-1",placeholder:c("tickets.search.placeholder"),value:b,onChange:e=>{f(1),v(e.target.value)}})]}),(0,s.jsxs)("div",{className:"flex gap-2 md:col-span-3",children:[(0,s.jsx)("button",{onClick:()=>{if(!a)return;let e=r.h.exportTicketsUrl(a,V);window.open(e,"_blank")},className:"mt-5 bg-neutral-800 hover:bg-neutral-700 text-sm px-3 py-2 rounded border border-neutral-700",children:c("tickets.export")}),(0,s.jsxs)("div",{className:"ml-auto flex items-end gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-neutral-400",children:c("tickets.staffRole")}),(0,s.jsxs)("select",{className:"mt-1 w-40 bg-neutral-900 border border-neutral-700 rounded px-2 py-1","aria-label":"Staff role",title:"Staff role",value:_,onChange:e=>{E(e.target.value),z("")},children:[(0,s.jsx)("option",{value:"",children:c("tickets.selectRole")}),O.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-neutral-400",children:c("tickets.assignee")}),(0,s.jsxs)("select",{className:"mt-1 w-48 bg-neutral-900 border border-neutral-700 rounded px-2 py-1","aria-label":"Assignee",title:"Assignee",value:D,onChange:e=>z(e.target.value),children:[(0,s.jsx)("option",{value:"",children:c("tickets.selectMember")}),I.map(e=>(0,s.jsx)("option",{value:e.id,children:e.nick?"".concat(e.nick," (").concat(e.username,"#").concat(e.discriminator,")"):"".concat(e.username,"#").concat(e.discriminator)},e.id))]})]}),(0,s.jsxs)("div",{className:"mt-5 flex items-center gap-2",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs text-neutral-300",children:[(0,s.jsx)("input",{type:"checkbox",checked:U,onChange:e=>{q(e.target.checked),f(1)}})," ",c("tickets.staffOnly")]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs text-neutral-300",children:[(0,s.jsx)("input",{type:"checkbox",checked:G,onChange:e=>H(e.target.checked)})," ",c("tickets.deepFetch")]})]})]})]})]}),(U||!!_||G||!!d||!!p||!!b)&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,s.jsx)("span",{className:"text-neutral-400 mr-1",children:c("tickets.filtersApplied")}),!!d&&(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded bg-neutral-800 border border-neutral-700 text-neutral-200",children:[c("tickets.status"),": ",d]}),!!p&&(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded bg-neutral-800 border border-neutral-700 text-neutral-200",children:[c("tickets.priority"),": ",p]}),!!b&&(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded bg-neutral-800 border border-neutral-700 text-neutral-200",children:[c("tickets.search"),": “",b,"”"]}),U&&(0,s.jsx)("span",{className:"px-2 py-0.5 rounded bg-neutral-800 border border-neutral-700 text-neutral-200",children:c("tickets.staffOnly")}),!!_&&(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded bg-neutral-800 border border-neutral-700 text-neutral-200",children:[c("tickets.role"),": ",K||_]}),G&&(0,s.jsx)("span",{className:"px-2 py-0.5 rounded bg-neutral-800 border border-neutral-700 text-neutral-200",children:c("tickets.deepFetch")}),(0,s.jsx)("button",{type:"button",className:"ml-1 underline text-neutral-400 hover:text-neutral-200",onClick:()=>{m(""),g(""),v(""),q(!1),E(""),H(!1),f(1)},"aria-label":"Clear filters",title:c("tickets.clearFilters"),children:c("tickets.clearFilters")})]}),T&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[(0,s.jsx)(h,{label:c("tickets.stats.total"),value:T.stats.total,colorClass:"bg-neutral-400"}),(0,s.jsx)(h,{label:c("tickets.stats.open"),value:T.stats.open,colorClass:"bg-emerald-500"}),(0,s.jsx)(h,{label:c("tickets.stats.claimed"),value:T.stats.claimed,colorClass:"bg-amber-500"}),(0,s.jsx)(h,{label:c("tickets.stats.closed"),value:T.stats.closed,colorClass:"bg-rose-500"}),(0,s.jsx)(h,{label:c("tickets.stats.pending"),value:T.stats.pending,colorClass:"bg-blue-500"})]}),(0,s.jsxs)("div",{className:"card p-0 overflow-hidden",children:[(0,s.jsxs)("div",{className:"divide-y divide-neutral-800",children:[y&&(0,s.jsx)("div",{className:"p-6 text-neutral-400",children:c("tickets.loading")}),S&&(0,s.jsx)("div",{className:"p-6 text-red-400",children:S}),!y&&!S&&(null==T?void 0:null===(e=T.tickets)||void 0===e?void 0:e.length)===0&&(0,s.jsx)("div",{className:"p-6 text-neutral-400",children:c("tickets.none")}),null==T?void 0:null===(t=T.tickets)||void 0===t?void 0:t.map(e=>(0,s.jsxs)("div",{className:"p-4 flex flex-col md:flex-row md:items-center gap-3",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("input",{type:"checkbox","aria-label":"Select ticket ".concat(e.id),checked:!!F[e.id],onChange:t=>L(a=>({...a,[e.id]:t.target.checked}))})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsxs)("span",{className:"text-neutral-300 font-mono",children:["#",e.id]}),(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs rounded bg-neutral-800 border border-neutral-700",children:e.status}),e.priority&&(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs rounded bg-neutral-800 border border-neutral-700",children:e.priority}),e.timeAgo&&(0,s.jsx)("span",{className:"text-xs text-neutral-500",children:e.timeAgo})]}),(0,s.jsx)("div",{className:"mt-1 text-neutral-200 truncate",children:e.subject||e.category||"Ticket"}),(0,s.jsxs)("div",{className:"mt-1 text-xs text-neutral-400 truncate",children:[e.ownerTag," • ",e.channelName]}),e.claimedByTag&&(0,s.jsxs)("div",{className:"mt-1 text-xs text-neutral-400",children:[c("tickets.claimedBy")," ",e.claimedByTag]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>M(e.id),className:"bg-neutral-800 hover:bg-neutral-700 px-3 py-1.5 rounded text-sm border border-neutral-700",children:c("tickets.view")}),"open"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>W(e.id,"claim"),className:"bg-emerald-600 hover:bg-emerald-500 px-3 py-1.5 rounded text-sm",children:c("tickets.claim")}),(0,s.jsx)("button",{onClick:()=>W(e.id,"claim"),className:"bg-blue-600 hover:bg-blue-500 px-3 py-1.5 rounded text-sm",children:c("tickets.assignToMe")})]}),"claimed"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>W(e.id,"release"),className:"bg-neutral-700 hover:bg-neutral-600 px-3 py-1.5 rounded text-sm",children:c("tickets.release")}),(0,s.jsx)("button",{onClick:()=>W(e.id,"close"),className:"bg-rose-600 hover:bg-rose-500 px-3 py-1.5 rounded text-sm",children:c("tickets.close")}),Q&&(0,s.jsx)("button",{onClick:()=>r.h.ticketAction(a,e.id,"assign",{userId:Q}).then(()=>r.h.getTickets(a,V).then(P)),className:"bg-blue-600 hover:bg-blue-500 px-3 py-1.5 rounded text-sm",children:c("tickets.assignToMe")})]}),"open"===e.status&&(0,s.jsx)("button",{onClick:()=>W(e.id,"close"),className:"bg-rose-600 hover:bg-rose-500 px-3 py-1.5 rounded text-sm",children:c("tickets.close")})]})]},e.id))]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border-t border-neutral-800 text-sm",children:[(0,s.jsxs)("div",{className:"text-neutral-400",children:["Page ",(null==T?void 0:T.pagination.page)||j," / ",(null==T?void 0:T.pagination.totalPages)||1]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox","aria-label":"Select all on page",onChange:e=>X(e.target.checked)}),Y.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-neutral-400",children:[Y.length," ",c("tickets.selectedSuffix")]}),(0,s.jsx)("button",{onClick:Z,className:"px-3 py-1.5 rounded bg-rose-600 hover:bg-rose-500",children:c("tickets.close")}),(0,s.jsx)("button",{onClick:$,className:"px-3 py-1.5 rounded bg-neutral-700 hover:bg-neutral-600",children:c("tickets.bulk.assign")}),(0,s.jsx)("button",{onClick:ee,className:"px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500",children:c("tickets.bulk.addNote")})]}),(0,s.jsx)("button",{className:"px-3 py-1.5 rounded bg-neutral-800 border border-neutral-700 hover:bg-neutral-700 disabled:opacity-50",disabled:1>=((null==T?void 0:T.pagination.page)||j),onClick:()=>f(((null==T?void 0:T.pagination.page)||j)-1),children:c("common.prev")}),(0,s.jsx)("button",{className:"px-3 py-1.5 rounded bg-neutral-800 border border-neutral-700 hover:bg-neutral-700 disabled:opacity-50",disabled:((null==T?void 0:T.pagination.page)||j)>=((null==T?void 0:T.pagination.totalPages)||1),onClick:()=>f(((null==T?void 0:T.pagination.page)||j)+1),children:c("common.next")}),(0,s.jsx)("select",{className:"ml-2 bg-neutral-900 border border-neutral-700 rounded px-2 py-1","aria-label":"Items per page",title:"Items per page",value:k,onChange:e=>{f(1),N(parseInt(e.target.value,10))},children:[10,20,50,100].map(e=>(0,s.jsxs)("option",{value:e,children:[e,c("tickets.perPageSuffix")]},e))})]})]})]}),a&&A&&(0,s.jsx)(i,{guildId:a,ticketId:A,onClose:()=>M(null)})]})}function h(e){let{label:t,value:a,colorClass:l}=e;return(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("div",{className:"text-sm text-neutral-400",children:t}),(0,s.jsxs)("div",{className:"mt-1 text-2xl font-semibold flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block w-2 h-2 rounded-full ".concat(l)}),a]})]})}}}]);