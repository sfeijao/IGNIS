<!DOCTYPE html>
<html lang="pt">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>IGNIS - Gerir Cargos</title>
	<link rel="stylesheet" href="/css/style.css" />
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>
<body>
	<nav class="navbar">
		<div class="navbar-container">
			<div class="navbar-brand"><i class="fas fa-user-shield"></i> Cargos</div>
			<div class="navbar-user">
				<a href="/dashboard" class="btn btn-glass"><i class="fas fa-home"></i> Dashboard</a>
			</div>
		</div>
	</nav>
	<main class="main-content">
		<div class="container">
			<section class="dashboard-section">
				<div class="section-header">
					<h1 class="section-title"><i class="fas fa-user-shield"></i> Gerir Cargos</h1>
					<p class="text-secondary">Pesquise membros e atribua cargos rapidamente.</p>
				</div>
				<div class="glass-card card-pad">
					<div class="grid grid-3 gap-8">
						<input id="search" class="input" placeholder="Pesquisar utilizador" />
						<select id="roleFilter" class="input" title="Filtrar por cargo"><option value="">Todos os cargos</option></select>
						<button id="refresh" class="btn btn-glass"><i class="fas fa-sync"></i> Atualizar</button>
					</div>
					<div class="mt-8"><label><input type="checkbox" id="onlyManageable" /> Somente gerenciáveis</label></div>
					<div class="mt-12 flex-row wrap gap-8">
						<button id="selectAllMembers" class="btn btn-glass btn-sm"><i class="fas fa-check-double"></i> Selecionar todos</button>
						<button id="clearMembers" class="btn btn-glass btn-sm"><i class="fas fa-ban"></i> Limpar seleção</button>
						<select id="bulkRole" class="input" title="Cargo"><option value="">(Selecionar cargo)</option></select>
						<button id="bulkAddRole" class="btn btn-secondary btn-sm"><i class="fas fa-plus"></i> Adicionar cargo</button>
						<button id="bulkRemoveRole" class="btn btn-danger btn-sm"><i class="fas fa-minus"></i> Remover cargo</button>
						<label class="ml-8"><input type="checkbox" id="openOnFailOnly" /> Abrir detalhes apenas em falhas</label>
						<span id="bulkProgress" class="text-secondary"></span>
					</div>
								<div class="role-manage mt-12 flex-row wrap gap-8">
									<input id="rmNewRoleName2" class="input" placeholder="Novo cargo" maxlength="80" />
									<input id="rmNewRoleColor2" class="input short" placeholder="#hex" maxlength="7" />
									<button id="rmBtnCreateRole2" class="btn btn-secondary btn-sm"><i class="fas fa-plus"></i> Criar</button>
									<select id="rmMoveRoleSelect" class="input mid" title="Cargo para mover"><option value="">(Cargo)</option></select>
									<input id="rmMoveSteps" type="number" class="input tiny" value="1" min="1" title="Passos" placeholder="Passos" />
									<button id="rmBtnMoveUp" class="btn btn-glass btn-sm" title="Subir"><i class="fas fa-arrow-up"></i></button>
									<button id="rmBtnMoveDown" class="btn btn-glass btn-sm" title="Descer"><i class="fas fa-arrow-down"></i></button>
									<select id="rmDeleteRoleSelect" class="input mid" title="Cargo para apagar"><option value="">(Cargo)</option></select>
									<button id="rmBtnDeleteRole" class="btn btn-danger btn-sm" title="Apagar cargo" aria-label="Apagar cargo"><i class="fas fa-trash"></i></button>
								</div>
					<details id="bulkPanel" class="mt-12">
						<summary>Resultados em detalhe</summary>
						<div class="mt-8">
							<button id="copyBulkSummary" class="btn btn-glass btn-sm"><i class="fas fa-copy"></i> Copiar resumo</button>
							<button id="clearBulkResults" class="btn btn-glass btn-sm"><i class="fas fa-broom"></i> Limpar resultados</button>
						</div>
						<div id="bulkResults" class="grid gap-6 mt-8"></div>
					</details>
					<div class="grid grid-2 gap-12 mt-12">
						<div>
							<h3 class="section-subtitle"><i class="fas fa-users"></i> Membros</h3>
							<div id="members" class="grid gap-8"></div>
						</div>
						<div>
							<h3 class="section-subtitle"><i class="fas fa-id-badge"></i> Cargos</h3>
							<div id="roles" class="grid gap-6"></div>
						</div>
					</div>
				</div>
			</section>
		</div>
	</main>
	<style>
		.card-pad{padding:16px}
		.gap-6{gap:6px}
		.gap-8{gap:8px}
		.gap-12{gap:12px}
		.mt-12{margin-top:12px}
		.mt-8{margin-top:8px}
		.member{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--glass-border);border-radius:12px;padding:8px 12px;background:var(--glass-bg)}
		.member-left{display:flex;align-items:center;gap:10px}
		.role-chip{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--glass-border);border-radius:999px;padding:2px 8px;background:rgba(255,255,255,0.04)}
		.role-list .role{display:flex;align-items:center;gap:8px}
		.flex-row{display:flex}
		.wrap{flex-wrap:wrap}
		.result-row{display:flex;align-items:center;gap:8px;border:1px solid var(--glass-border);border-radius:8px;padding:6px 8px;background:var(--glass-bg)}
		.result-row.ok{border-color:rgba(22,163,74,.5)}
		.result-row.fail{border-color:rgba(220,38,38,.5)}
		.role-manage input{min-width:120px}
		.role-manage select{min-width:160px}
		.btn-xs{padding:2px 6px;font-size:11px;line-height:1.2}
		.role-manage input.short{max-width:100px}
		.role-manage input.mid{max-width:140px}
		.role-manage input.tiny{max-width:80px}
	</style>
	<script src="/js/roles.js"></script>
</body>
</html>