## IGNIS Bot / Dashboard - Example Environment Variables

# --- Discord OAuth / Bot ---
DISCORD_TOKEN=your-bot-token-here
CLIENT_ID=your-bot-client-id
CLIENT_SECRET=your-discord-client-secret
GUILD_ID=your-development-guild-id

# --- Dashboard / Website ---
# Base URL of your dashboard (public). In prod, MUST use https and match your domain
BASE_URL=http://localhost:4000
# Full callback URL registered in Discord Dev Portal (must match exactly)
CALLBACK_URL=http://localhost:4000/auth/discord/callback
# Session secret (32+ chars recommended in production)
SESSION_SECRET=please-change-this-to-a-long-random-string

# Optional: Allow local dev without OAuth (NEVER enable in production)
DASHBOARD_BYPASS_AUTH=false
OAUTH_VERBOSE_LOGS=false

# --- MongoDB (optional but recommended for persistence) ---
# Provide one of these. If empty, storage falls back to JSON/SQLite depending on STORAGE_BACKEND
MONGO_URI=mongodb://localhost:27017/ignis
# MONGODB_URI=
# MONGO_DB_NAME=IGNIS
# MONGO_DNS_SERVERS=8.8.8.8,1.1.1.1

# --- Storage Backend (optional) ---
# sqlite | json (default determined automatically) – use sqlite only if set explicitly
STORAGE_BACKEND=

# --- Roles / Channels (optional, if used by permissions/workflows) ---
OWNER_ROLE_ID=
ADMIN_ROLE_ID=
STAFF_ROLE_ID=
VERIFIED_ROLE_ID=
LOGS_CHANNEL_ID=
VERIFICATION_CHANNEL_ID=
TICKETS_CHANNEL_ID=
UPDATES_CHANNEL_ID=

# --- Internal integrations ---
# Token to authorize bot -> dashboard internal webhook (/api/internal/modlog)
INTERNAL_API_TOKEN=

# --- CORS (only if calling Dashboard APIs from a different origin) ---
# Example: http://localhost:5173 or https://your-frontend.example.com
CORS_ORIGIN=

# --- Misc ---
PORT=4000
LOG_LEVEL=info
RAILWAY_PUBLIC_DOMAIN=
# =================================
# IGNIS BOT - CONFIGURAÇÃO DE AMBIENTE
# =================================

# Ambiente (development/production)
NODE_ENV=development

# =================================
# DISCORD CONFIGURATION
# =================================
DISCORD_TOKEN=your_bot_token_here
DISCORD_CLIENT_ID=your_client_id_here
DISCORD_CLIENT_SECRET=your_client_secret_here
DISCORD_GUILD_ID=your_guild_id_here

# Legacy naming for compatibility
CLIENT_ID=your_client_id_here
CLIENT_SECRET=your_client_secret_here
GUILD_ID=your_guild_id_here

# =================================
# WEBSITE CONFIGURATION
# =================================
# URL base da aplicação (com https:// em produção)
BASE_URL=http://localhost:4000
# Porta do servidor web
PORT=4000
# Segredo da sessão (gere com: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
SESSION_SECRET=your_session_secret_here_32_chars_minimum
# URL de callback OAuth2
CALLBACK_URL=/auth/discord/callback

# =================================
# DISCORD CHANNELS
# =================================
UPDATES_CHANNEL_ID=your_updates_channel_id
VERIFICATION_CHANNEL_ID=your_verification_channel_id
LOGS_CHANNEL_ID=your_logs_channel_id
TICKETS_CHANNEL_ID=your_tickets_channel_id
SOLICITAR_TAG_CHANNEL_ID=your_solicitar_tag_channel_id
COMANDOS_ADM_CHANNEL_ID=your_comandos_adm_channel_id

# =================================
# DISCORD ROLES
# =================================
VERIFIED_ROLE_ID=your_verified_role_id
STAFF_ROLE_ID=your_staff_role_id
ADMIN_ROLE_ID=your_admin_role_id
OWNER_ROLE_ID=your_owner_role_id
VIP_ROLE_ID=your_vip_role_id
MEMBER_ROLE_ID=your_member_role_id
MOD_ROLE_ID=your_mod_role_id
SUPPORT_ROLE_ID=your_support_role_id

# =================================
# DATABASE
# =================================
DATABASE_PATH=./website/database/ignis_dashboard.db

# =================================
# MONGODB (persistência recomendada)
# =================================
# Opção A (recomendada): incluir o nome da base de dados no path do URI
# MONGO_URI=mongodb+srv://user:pass@cluster.mongodb.net/IGNIS?retryWrites=true&w=majority&appName=IGNIS

# Opção B: URI sem nome de base de dados + nome via variável (a app assume este db)
# MONGO_URI=mongodb+srv://user:pass@cluster.mongodb.net/?retryWrites=true&w=majority&appName=IGNIS
# MONGO_DB_NAME=IGNIS

# Nota: Se tiver STORAGE_BACKEND=sqlite, o projeto forçará SQLite. Remova/comente para usar Mongo.

# =================================
# WEBHOOKS (opcional)
# =================================
WEBHOOK_LOGS=your_webhook_logs_url
WEBHOOK_UPDATES=your_webhook_updates_url
WEBHOOK_TICKETS=your_webhook_tickets_url

# =================================
# RATE LIMITING
# =================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =================================
# RAILWAY DEPLOYMENT (automático)
# =================================
# RAILWAY_ENVIRONMENT_NAME=production (definido automaticamente pelo Railway)
